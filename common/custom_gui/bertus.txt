custom_button = {
    name = magic_menu_ruler
    potential = {
		ruler_has_mage_personality = yes
	}
	trigger = {
		hidden_trigger = {
			ai = no	#bertus mod
			NOT = { has_ruler_flag = magic_menu_opened }
		}
		NOT = { has_country_flag = in_magocracy_heir_selection }
		NOT = { has_ruler_modifier = magic_realm_menu_cooldown }
		if = { limit = { NOT = {months_of_ruling = 2 }}
			months_of_ruling = 2
		}
		if = { limit = { is_lesser_in_union = yes }
			is_lesser_in_union = no
		}
		if = { limit = { has_ruler_flag = abjuration_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_abjuration_3 }
		}
		else_if = { limit = { has_ruler_flag = abjuration_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_abjuration_2 }
		}
		else_if = { limit = { has_ruler_flag = abjuration_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_abjuration_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_abjuration_0 }
		}
		if = { limit = { has_ruler_flag = conjuration_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_conjuration_3 }
		}
		else_if = { limit = { has_ruler_flag = conjuration_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_conjuration_2 }
		}
		else_if = { limit = { has_ruler_flag = conjuration_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_conjuration_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_conjuration_0 }
		}
		if = { limit = { has_ruler_flag = divination_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_divination_3 }
		}
		else_if = { limit = { has_ruler_flag = divination_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_divination_2 }
		}
		else_if = { limit = { has_ruler_flag = divination_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_divination_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_divination_0 }
		}
		if = { limit = { has_ruler_flag = enchantment_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_enchantment_3 }
		}
		else_if = { limit = { has_ruler_flag = enchantment_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_enchantment_2 }
		}
		else_if = { limit = { has_ruler_flag = enchantment_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_enchantment_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_enchantment_0 }
		}
		if = { limit = { has_ruler_flag = evocation_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_evocation_3 }
		}
		else_if = { limit = { has_ruler_flag = evocation_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_evocation_2 }
		}
		else_if = { limit = { has_ruler_flag = evocation_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_evocation_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_evocation_0 }
		}
		if = { limit = { has_ruler_flag = illusion_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_illusion_3 }
		}
		else_if = { limit = { has_ruler_flag = illusion_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_illusion_2 }
		}
		else_if = { limit = { has_ruler_flag = illusion_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_illusion_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_illusion_0 }
		}
		if = { limit = { has_ruler_flag = necromancy_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_necromancy_3 }
		}
		else_if = { limit = { has_ruler_flag = necromancy_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_necromancy_2 }
		}
		else_if = { limit = { has_ruler_flag = necromancy_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_necromancy_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_necromancy_0 }
		}
		if = { limit = { has_ruler_flag = transmutation_3 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_transmutation_3 }
		}
		else_if = { limit = { has_ruler_flag = transmutation_2 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_transmutation_2 }
		}
		else_if = { limit = { has_ruler_flag = transmutation_1 }
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_transmutation_1 }
		}
		else = {
			custom_trigger_tooltip = { always = yes tooltip = tooltip_has_transmutation_0 }
		}
	}
	effect = {
		hidden_effect = { country_event = { id = magic_ruler.0 } }
		open_single_menu = yes
		#Allows for vampires that become mages naturally
		hidden_effect = {
			if = { 
				limit = { has_ruler_flag = is_a_vampire }
				set_country_flag = mage_vampire
			}
		}
	}
	tooltip = open_ruler_magic_menu_tt
}
custom_button = {
    name = racial_mil_update
    potential = {
		ai = no
	}
	trigger = {
		if = {
			limit = {
				has_country_flag = racial_mil_menu_cd
				NOT = { had_country_flag = { flag = racial_mil_menu_cd days = 30 } }
			}
			had_country_flag = { flag = racial_mil_menu_cd days = 30 }
		}
	}
	effect = {
		hidden_effect = {
			clr_country_flag = racial_mil_menu_cd
			set_country_flag = racial_mil_menu_cd
			country_event = {id = bertus_racial_military.1001}
		}
		country_administration_effect = {
			type = military
			military = yes
		}
		custom_tooltip = "Update Military Recruitment"
	}
	tooltip = mil_menu_access_tt
}
custom_text_box = {
    name = bertus_racial_military
    potential = {
		ai = no
	}
    tooltip = "racial_mil_update"
}
custom_button = {
    name = trade_goods_update
    potential = {
		always = yes
	}
	trigger = {
		if = {
			limit = {
				has_country_flag = trade_goods_update_cd
				NOT = { had_country_flag = { flag = trade_goods_update_cd days = 30 } }
			}
			had_country_flag = { flag = trade_goods_update_cd days = 30 }
		}
	}
	effect = {
		custom_tooltip = bertus_open_goods_menu_tt
		hidden_effect = {
			country_event = {id = ANEX_event.34}
			country_event = {id = bertus_changes.7000}
			clr_country_flag = trade_goods_update_cd
			set_country_flag = trade_goods_update_cd
		}
	}
    tooltip = bertus_open_goods_menu
}
custom_button = {
    name = siege_magic
    potential = {
		ai = no
		ruler_has_mage_personality = yes
		months_of_ruling = 2
		NOT = { has_ruler_flag = magic_menu_opened }
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = ruler_knows_siege_spell_tt
			OR = {
				has_ruler_flag = conjuration_1
				has_ruler_flag = evocation_1
				has_ruler_flag = transmutation_2
				has_ruler_flag = enchantment_3
			}
		}
		is_at_war = yes
		NOT = { has_ruler_modifier = magic_siege_cooldown }
		is_lesser_in_union = no
		any_army = {
			location = {
				fort_level = 1
				sieged_by = ROOT
				unit_has_leader = yes
				has_ruler_leader_from = ROOT
				num_of_units_in_province = {
					who = ROOT
					amount = 1
				}
			}
		}
		hidden_trigger = {
			NOT = { has_ruler_flag = magic_menu_opened }
		}
	}
	effect = {
		set_ruler_flag = magic_siege_menu
		custom_tooltip = open_siege_magic_menu_tt
		hidden_effect = { country_event = { id = magic_siege.1 } }
		open_single_menu = yes
	}
    tooltip = siege_magic_tt
}
custom_button = {
    name = first_chairman_interaction
    potential = {
		ai = no
	}
	trigger = {
		if = {
			limit = {
				has_country_flag = first_chairman_interaction_cd
				NOT = { had_country_flag = { flag = first_chairman_interaction_cd days = 3650 } }
			}
			had_country_flag = { flag = first_chairman_interaction_cd days = 3650 }
		}
	}
	effect = {
		country_chairman_effect = { type = first_hand }
		country_event = { id = bertus_racial_military.5200 }
		hidden_effect = {
			clr_country_flag = first_chairman_interaction_cd
			set_country_flag = first_chairman_interaction_cd
		}
	}
    tooltip = first_chairman_interaction_tt
}
custom_button = {
    name = diplomacy_chairman_interaction
    potential = {
		ai = no
	}
	trigger = {
		if = {
			limit = {
				has_country_flag = diplomacy_chairman_interaction_cd
				NOT = { had_country_flag = { flag = diplomacy_chairman_interaction_cd days = 3650 } }
			}
			had_country_flag = { flag = diplomacy_chairman_interaction_cd days = 3650 }
		}
	}
	effect = {
		country_chairman_effect = { type = diplomacy }
		country_event = { id = bertus_racial_military.5201 }
		hidden_effect = {
			clr_country_flag = diplomacy_chairman_interaction_cd
			set_country_flag = diplomacy_chairman_interaction_cd
		}
	}
    tooltip = diplomacy_chairman_interaction_tt
}
custom_button = {
    name = military_chairman_interaction
    potential = {
		ai = no
	}
	trigger = {
		if = {
			limit = {
				has_country_flag = military_chairman_interaction_cd
				NOT = { had_country_flag = { flag = military_chairman_interaction_cd days = 3650 } }
			}
			had_country_flag = { flag = military_chairman_interaction_cd days = 3650 }
		}
	}
	effect = {
		country_chairman_effect = { type = military }
		country_event = { id = bertus_racial_military.5202 }
		hidden_effect = {
			clr_country_flag = military_chairman_interaction_cd
			set_country_flag = military_chairman_interaction_cd
		}
	}
    tooltip = military_chairman_interaction_tt
}
custom_button = {
    name = economic_chairman_interaction
    potential = {
		ai = no
	}
	trigger = {
		if = {
			limit = {
				has_country_flag = economic_chairman_interaction_cd
				NOT = { had_country_flag = { flag = economic_chairman_interaction_cd days = 3650 } }
			}
			had_country_flag = { flag = economic_chairman_interaction_cd days = 3650 }
		}
	}
	effect = {
		country_chairman_effect = { type = economic }
		country_event = { id = bertus_racial_military.5203 }
		if = {
			limit = {
				has_country_modifier = estate_halfling_economic_chairman_modifier
			}
			custom_tooltip = estate_halfling_economic_chairman_tooltip
		}
		hidden_effect = {
			clr_country_flag = economic_chairman_interaction_cd
			set_country_flag = economic_chairman_interaction_cd
		}
	}
    tooltip = economic_chairman_interaction_tt
}
custom_button = {
    name = navy_chairman_interaction
    potential = {
		ai = no
	}
	trigger = {
		if = {
			limit = { all_owned_province = { has_port = no } }
			any_owned_province = { has_port = yes }
		}
		if = {
			limit = {
				has_country_flag = navy_chairman_interaction_cd
				NOT = { had_country_flag = { flag = navy_chairman_interaction_cd days = 3650 } }
			}
			had_country_flag = { flag = navy_chairman_interaction_cd days = 3650 }
		}
	}
	effect = {
		country_chairman_effect = { type = navy }
		country_event = { id = bertus_racial_military.5204 }
		hidden_effect = {
			clr_country_flag = navy_chairman_interaction_cd
			set_country_flag = navy_chairman_interaction_cd
		}
	}
    tooltip = navy_chairman_interaction_tt
}
custom_icon = {
	name = special_abilities_background
	potential = {
		is_city = yes
		controller = { has_estate_privilege = estate_ogre_stone_soup }
		NOT = { controlled_by = owner }
		FROM = { ai = no }
	}
	tooltip = ""
}
custom_button = {
    name = stone_soup
    potential = {
		is_city = yes
		NOT = { controlled_by = owner }
		FROM = {
			ai = no
			has_estate_privilege = estate_ogre_stone_soup
		}
	}
	trigger = {
		if = { limit = { unit_in_battle = yes } unit_in_battle = no }
		if = { limit = { has_province_modifier = making_soup_modifier } NOT = { has_province_modifier = making_soup_modifier } }
		if = { limit = { development = 100 } num_of_units_in_province = { who = controller amount = 50 } }
		else_if = { limit = { development = 90 } num_of_units_in_province = { who = controller amount = 45 } }
		else_if = { limit = { development = 80 } num_of_units_in_province = { who = controller amount = 40 } }
		else_if = { limit = { development = 70 } num_of_units_in_province = { who = controller amount = 35 } }
		else_if = { limit = { development = 60 } num_of_units_in_province = { who = controller amount = 30 } }
		else_if = { limit = { development = 50 } num_of_units_in_province = { who = controller amount = 25 } }
		else_if = { limit = { development = 40 } num_of_units_in_province = { who = controller amount = 20 } }
		else_if = { limit = { development = 30 } num_of_units_in_province = { who = controller amount = 15 } }
		else_if = { limit = { development = 20 } num_of_units_in_province = { who = controller amount = 10 } }
		else_if = { limit = { development = 18 } num_of_units_in_province = { who = controller amount = 9 } }
		else_if = { limit = { development = 16 } num_of_units_in_province = { who = controller amount = 8 } }
		else_if = { limit = { development = 14 } num_of_units_in_province = { who = controller amount = 7 } }
		else_if = { limit = { development = 12 } num_of_units_in_province = { who = controller amount = 6 } }
		else_if = { limit = { development = 10 } num_of_units_in_province = { who = controller amount = 5 } }
		else = { num_of_units_in_province = { who = controller amount = 4 } }
	}
	effect = {
		province_event = { id = bertus_changes.2030 }	#making soup
		custom_tooltip = "Our troops will be working 1 year for the Soup making"
	}
	tooltip = "Make Stone Soup"
}
custom_icon = {
	name = human_image_background
	potential = {
		ai = no
		has_country_modifier = human_administration
	}
	tooltip = ""
}
custom_icon = {
	name = elven_image_background
	potential = {
		ai = no
		has_country_modifier = elven_administration
	}
	tooltip = ""
}
custom_icon = {
	name = dwarven_image_background
	potential = {
		ai = no
		has_country_modifier = dwarven_administration
	}
	tooltip = ""
}
custom_icon = {
	name = halfling_image_background
	potential = {
		ai = no
		has_country_modifier = halfling_administration
	}
	tooltip = ""
}
custom_icon = {
	name = gnomish_image_background
	potential = {
		ai = no
		has_country_modifier = gnomish_administration
	}
	tooltip = ""
}
custom_icon = {
	name = harimari_image_background
	potential = {
		ai = no
		has_country_modifier = harimari_administration
	}
	tooltip = ""
}
custom_icon = {
	name = gnollish_image_background
	potential = {
		ai = no
		has_country_modifier = gnollish_administration
	}
	tooltip = ""
}
custom_icon = {
	name = ruinborn_image_background
	potential = {
		ai = no
		has_country_modifier = ruinborn_administration
	}
	tooltip = ""
}
custom_icon = {
	name = orcish_image_background
	potential = {
		ai = no
		has_country_modifier = orcish_administration
	}
	tooltip = ""
}
custom_icon = {
	name = goblin_image_background
	potential = {
		ai = no
		has_country_modifier = goblin_administration
	}
	tooltip = ""
}
custom_icon = {
	name = ogre_image_background
	potential = {
		ai = no
		has_country_modifier = ogre_administration
	}
	tooltip = ""
}
custom_icon = {
	name = centaur_image_background
	potential = {
		ai = no
		has_country_modifier = centaur_administration
	}
	tooltip = ""
}
custom_icon = {
	name = troll_image_background
	potential = {
		ai = no
		has_country_modifier = troll_administration
	}
	tooltip = ""
}
custom_icon = {
	name = harpy_image_background
	potential = {
		ai = no
		has_country_modifier = harpy_administration
	}
	tooltip = ""
}
custom_icon = {
	name = half_orcish_image_background
	potential = {
		ai = no
		has_country_modifier = half_orcish_administration
	}
	tooltip = ""
}
custom_icon = {
	name = half_elven_image_background
	potential = {
		ai = no
		has_country_modifier = half_elven_administration
	}
	tooltip = ""
}
custom_icon = {
	name = kobold_image_background
	potential = {
		ai = no
		has_country_modifier = kobold_administration
	}
	tooltip = ""
}
custom_icon = {
	name = hobgoblin_image_background
	potential = {
		ai = no
		has_country_modifier = hobgoblin_administration
	}
	tooltip = ""
}
custom_icon = {
	name = lizardfolk_image_background
	potential = {
		ai = no
		has_country_modifier = lizardfolk_administration
	}
	tooltip = ""
}
custom_icon = {
	name = dookan_guidance_activated
	potential = {
		ai = no
		religion = old_dookan
	}
	tooltip = "[Root.getGreatDookanGuidanceName]"
	frame = {
	    number = 1
	    trigger = { 
			has_country_modifier = dookans_guidance_peace
		}
	}
	frame = {
	    number = 2
	    trigger = { 
			has_country_modifier = dookans_guidance_war
		}
	}
	frame = { #First matched frame clause will be used.
	    number = 3
	    trigger = { 
		}
	}
}
custom_button = {
	name = dookan_slave_herd
	potential = {
		owned_by = FROM
		owner = {
			ai = no
			OR = {
				religion = old_dookan
				religion = great_dookan
				religion = feast_of_the_gods
			}
		}
	}
	trigger = {
		if = {
			limit = { owner = {NOT = { check_variable = { which = slave_herd_amount_var value = 1 } } } }
			owner = { check_variable = { which = slave_herd_amount_var value = 1 } }
		}
		area_for_scope_province = {
			type = all
			has_owner_accepted_culture = yes
			religion = FROM
			NOT = {has_province_modifier = dookan_anointed_slave_herd}
		}
	}
	effect = {
		owner = {
			change_variable = { which = slave_herd_amount_var value = -1 }
		}
		province_event = {id = bertus_changes.3002}
	}
	tooltip = "Get Slave Herd"
}
custom_button = {
	name = corinite_state_communities
	potential = {
		owned_by = FROM
		owner = {
			ai = no
			religion = corinite
		}
	}
	trigger = {
		if = {
			limit = { owner = {NOT = { check_variable = { which = corinite_building_amount_var value = 1 } } } }
			owner = { check_variable = { which = corinite_building_amount_var value = 1 } }
		}
		area_for_scope_province = {
			type = all
			religion = FROM
			is_state_core = FROM
			controlled_by = FROM
			NOT = {has_province_modifier = corinite_communities_aspect_modifier}
		}
	}
	effect = {
		owner = {
			change_variable = { which = corinite_building_amount_var value = -1 }
		}
		province_event = {id = bertus_changes.1109}
	}
	tooltip = "Get Corins Community"
}
custom_button = {
	name = corinite_state_blessing
	potential = {
		owned_by = FROM
		owner = {
			ai = no
			religion = corinite
		}
	}
	trigger = {
		if = {
			limit = { owner = {NOT = { check_variable = { which = corinite_development_amount_var value = 1 } } } }
			owner = { check_variable = { which = corinite_development_amount_var value = 1 } }
		}
		is_state = yes
		area_for_scope_province = {
			type = all
			religion = FROM
			is_state_core = FROM
			controlled_by = FROM
			NOT = {has_province_modifier = corinite_diplomatic_rabbi_aspect_modifier}
		}
	}
	effect = {
		owner = {
			change_variable = { which = corinite_development_amount_var value = -1 }
		}
		province_event = {id = bertus_changes.1110}
	}
	tooltip = "Get Corins Blassing"
}
custom_button = {
	name = corinite_state_wisdom
	potential = {
		owned_by = FROM
		owner = {
			ai = no
			religion = corinite
		}
	}
	trigger = {
		if = {
			limit = { owner = {NOT = { check_variable = { which = corinite_religion_amount_var value = 1 } } } }
			owner = { check_variable = { which = corinite_religion_amount_var value = 1 } }
		}
		is_state = yes
		area_for_scope_province = {
			type = all
			NOT = {religion = FROM}
			is_state_core = FROM
			controlled_by = FROM
			NOT = {has_province_modifier = corinite_abrahamic_aspect_modifier}
		}
	}
	effect = {
		owner = {
			change_variable = { which = corinite_religion_amount_var value = -1 }
		}
		province_event = {id = bertus_changes.1111}
	}
	tooltip = "Get Corins Wisdom Assistant"
}
custom_button = {
	name = one_v_one_high_piety_action
	potential = {
		ai = no
		uses_piety = yes
	}
	trigger = {
		hidden_trigger = {
			OR = {
				NOT = { has_country_flag = one_v_one_high_piety_action_flag }
				had_country_flag = { flag = one_v_one_high_piety_action_flag days = 1825 }
			}
			piety = 0.75
		}
	}
	effect = {
		tooltip = { add_years_of_income = 0.5 }
		if = {
			limit = { NOT = { has_country_flag = one_v_one_piety_action_confirm_flag } }
			set_country_flag = one_v_one_high_piety_action_confirm_flag
			set_country_flag = one_v_one_piety_action_confirm_flag
			if = {
				limit = { has_country_flag = one_v_one_high_piety_action_flag NOT = { had_country_flag = { flag = one_v_one_high_piety_action_flag days = 1825 } } }
				custom_tooltip = one_v_one_high_piety_action_cooldown_tt
			}
		}
		hidden_effect = { save_yearly_income = yes }
	}
	tooltip = one_v_one_high_piety_action_tt
}
custom_icon = {
	name = one_v_one_high_piety_action_confirm_background
	potential = {
		ai = no
		has_country_flag = one_v_one_high_piety_action_confirm_flag
	}
}
custom_text_box = {
    name = one_v_one_high_piety_action_effect
    potential = {
		ai = no
		has_country_flag = one_v_one_high_piety_action_confirm_flag
	}
    tooltip = one_v_one_high_piety_action_effect
}
custom_button = {
	name = one_v_one_piety_action_not_confirm
	potential = {
		ai = no
		has_country_flag = one_v_one_piety_action_confirm_flag
	}
	trigger = {}
	effect = {
		clr_country_flag = one_v_one_piety_action_confirm_flag
		clr_country_flag = one_v_one_low_piety_action_confirm_flag
		clr_country_flag = one_v_one_high_piety_action_confirm_flag
	}
}
custom_button = {
	name = one_v_one_piety_action_confirm
	potential = { 
		ai = no
		has_country_flag = one_v_one_piety_action_confirm_flag
	}
	trigger = {}
	effect = {
		clr_country_flag = one_v_one_piety_action_confirm_flag
		clr_country_flag = one_v_one_low_piety_action_confirm_flag
		clr_country_flag = one_v_one_high_piety_action_confirm_flag
		add_years_of_income = 1
		hidden_effect = { add_piety = -0.5 }
		set_country_flag = one_v_one_high_piety_action_flag
		hidden_effect = {
			export_to_variable = { which = one_v_one_high_piety_action_was_set_year value = trigger_value:is_year }
			export_to_variable = { which = one_v_one_high_piety_action_was_set_month value = trigger_value:is_month }
			set_variable = { which = one_v_one_high_piety_action_length value = 5 }
			change_variable = { which = one_v_one_high_piety_action_length which = one_v_one_high_piety_action_was_set_year }
		}
	}
}
custom_button = {
	name = purge_action
	potential = {
		owned_by = FROM
		owner = { is_part_of_hre = no }
		at_least_one_race_trigger = {
			TRIGGER = is_purging_or_expelling_province_race
			type = owner
		}
	}
	trigger = {
		if = {
			limit = { unit_in_battle = yes }
			unit_in_battle = no
		}
		if = { limit = { development = 100 } num_of_units_in_province = { who = controller amount = 50 } }
		else_if = { limit = { development = 90 } num_of_units_in_province = { who = controller amount = 45 } }
		else_if = { limit = { development = 80 } num_of_units_in_province = { who = controller amount = 40 } }
		else_if = { limit = { development = 70 } num_of_units_in_province = { who = controller amount = 35 } }
		else_if = { limit = { development = 60 } num_of_units_in_province = { who = controller amount = 30 } }
		else_if = { limit = { development = 50 } num_of_units_in_province = { who = controller amount = 25 } }
		else_if = { limit = { development = 40 } num_of_units_in_province = { who = controller amount = 20 } }
		else_if = { limit = { development = 30 } num_of_units_in_province = { who = controller amount = 15 } }
		else_if = { limit = { development = 20 } num_of_units_in_province = { who = controller amount = 10 } }
		else_if = { limit = { development = 18 } num_of_units_in_province = { who = controller amount = 9 } }
		else_if = { limit = { development = 16 } num_of_units_in_province = { who = controller amount = 8 } }
		else_if = { limit = { development = 14 } num_of_units_in_province = { who = controller amount = 7 } }
		else_if = { limit = { development = 12 } num_of_units_in_province = { who = controller amount = 6 } }
		else_if = { limit = { development = 10 } num_of_units_in_province = { who = controller amount = 5 } }
		else = { num_of_units_in_province = { who = controller amount = 4 } }
	}
	effect = {
		hidden_effect = {
			all_races_effect = {
				EFFECT = race_event
				type = province
			}
		}
		custom_tooltip = "This may cause Revolts"
	}
	tooltip = "Remove Undesirables"
}
custom_button = {
	name = surael_interaction
	potential = { 
		ai = no
		religion = bulwari_sun_cult
	}
	trigger = {
		if = {
			limit = { has_government_attribute = praise_surael_reform_mechanic }
			OR = {
				if = {
					limit = {
						has_country_flag = elven_interaction_cd
						NOT = { had_country_flag = { flag = elven_interaction_cd days = 3650 } }
					}
					had_country_flag = { flag = elven_interaction_cd days = 3650 }
				}
				if = {
					limit = {
						has_country_flag = human_interaction_cd
						NOT = { had_country_flag = { flag = human_interaction_cd days = 3650 } }
					}
					had_country_flag = { flag = human_interaction_cd days = 3650 }
				}
				if = {
					limit = {
						has_country_flag = half_elven_interaction_cd
						NOT = { had_country_flag = { flag = half_elven_interaction_cd days = 3650 } }
					}
					had_country_flag = { flag = half_elven_interaction_cd days = 3650 }
				}
			}
		}
		else = {
			OR = {
				if = {
					limit = {
						has_country_flag = elven_interaction_cd
						NOT = { had_country_flag = { flag = elven_interaction_cd days = 5475 } }
					}
					had_country_flag = { flag = elven_interaction_cd days = 5475 }
				}
				if = {
					limit = {
						has_country_flag = human_interaction_cd
						NOT = { had_country_flag = { flag = human_interaction_cd days = 5475 } }
					}
					had_country_flag = { flag = human_interaction_cd days = 5475 }
				}
				if = {
					limit = {
						has_country_flag = half_elven_interaction_cd
						NOT = { had_country_flag = { flag = half_elven_interaction_cd days = 5475 } }
					}
					had_country_flag = { flag = half_elven_interaction_cd days = 5475 }
				}
			}
		}
	}
	effect = {
		country_event = { id = bertus_changes.6033 }
		hidden_effect = {
			if = {
				limit = { had_country_flag = { flag = elven_interaction_cd days = 5475 } }
				clr_country_flag = elven_interaction_cd
			}
			else_if = {
				limit = { had_country_flag = { flag = human_interaction_cd days = 5475 } }
				clr_country_flag = human_interaction_cd
			}
			else_if = {
				limit = { had_country_flag = { flag = half_elven_interaction_cd days = 5475 } }
				clr_country_flag = half_elven_interaction_cd
			}
		}
	}
	tooltip = "Change Chosen's Role"
}

custom_button = {
	name = shake_the_earth_old
	potential = {
		fort_level = 1
		has_siege = yes
		sieged_by = FROM
		FROM = { religion = old_dookan }
	}
	trigger = {
		FROM = { church_power = 50 }
		NOT = { has_province_modifier = dookan_shake_the_earth_province }
	}
	effect = {
		custom_tooltip = change_siege_progress_by_3_tt
		hidden_effect = { change_siege = 3 }
		add_province_modifier = { name = dookan_shake_the_earth_province duration = 90 }
		FROM = { add_church_power = -50 }
	}
	tooltip = "Shake the Earth"
}
custom_button = {
	name = shake_the_earth_great
	potential = {
		fort_level = 1
		has_siege = yes
		sieged_by = FROM
		FROM = { religion = great_dookan }
	}
	trigger = {
		FROM = { church_power = 50 }
		NOT = { has_province_modifier = dookan_shake_the_earth_province }
	}
	effect = {
		custom_tooltip = change_siege_progress_by_3_tt
		hidden_effect = { change_siege = 3 }
		add_province_modifier = { name = dookan_shake_the_earth_province duration = 90 }
		FROM = { add_church_power = -50 }
	}
	tooltip = "Shake the Earth"
}
custom_button = {
	name = ogre_ram
	potential = {
		fort_level = 1
		has_siege = yes
		sieged_by = FROM
		FROM = { has_country_modifier = ogre_military }
	}
	trigger = {
		infantry_in_province = FROM	
		if = { limit = { fort_level = 20 } num_of_units_in_province = { who = FROM type = infantry amount = 21 } }
		else_if = { limit = { fort_level = 19 } num_of_units_in_province = { who = FROM type = infantry amount = 20 } }
		else_if = { limit = { fort_level = 18 } num_of_units_in_province = { who = FROM type = infantry amount = 19 } }
		else_if = { limit = { fort_level = 17 } num_of_units_in_province = { who = FROM type = infantry amount = 18 } }
		else_if = { limit = { fort_level = 16 } num_of_units_in_province = { who = FROM type = infantry amount = 17 } }
		else_if = { limit = { fort_level = 15 } num_of_units_in_province = { who = FROM type = infantry amount = 16 } }
		else_if = { limit = { fort_level = 14 } num_of_units_in_province = { who = FROM type = infantry amount = 15 } }
		else_if = { limit = { fort_level = 13 } num_of_units_in_province = { who = FROM type = infantry amount = 14 } }
		else_if = { limit = { fort_level = 12 } num_of_units_in_province = { who = FROM type = infantry amount = 13 } }
		else_if = { limit = { fort_level = 11 } num_of_units_in_province = { who = FROM type = infantry amount = 12 } }
		else_if = { limit = { fort_level = 10 } num_of_units_in_province = { who = FROM type = infantry amount = 11 } }
		else_if = { limit = { fort_level = 9 } num_of_units_in_province = { who = FROM type = infantry amount = 10 } }
		else_if = { limit = { fort_level = 8 } num_of_units_in_province = { who = FROM type = infantry amount = 9 } }
		else_if = { limit = { fort_level = 7 } num_of_units_in_province = { who = FROM type = infantry amount = 8 } }
		else_if = { limit = { fort_level = 6 } num_of_units_in_province = { who = FROM type = infantry amount = 7 } }
		else_if = { limit = { fort_level = 5 } num_of_units_in_province = { who = FROM type = infantry amount = 6 } }
		else_if = { limit = { fort_level = 4 } num_of_units_in_province = { who = FROM type = infantry amount = 5 } }
		else_if = { limit = { fort_level = 3 } num_of_units_in_province = { who = FROM type = infantry amount = 4 } }
		else_if = { limit = { fort_level = 2 } num_of_units_in_province = { who = FROM type = infantry amount = 3 } }
		else_if = { limit = { fort_level = 1 } num_of_units_in_province = { who = FROM type = infantry amount = 2 } }
	}
	effect = {
		custom_tooltip = change_siege_progress_by_1_tt
		hidden_effect = { change_siege = 1 }
		if = { limit = { fort_level = 20 } kill_units = { who = FROM type = infantry amount = 20 } }
		else_if = { limit = { fort_level = 19 } kill_units = { who = FROM type = infantry amount = 19 } }
		else_if = { limit = { fort_level = 18 } kill_units = { who = FROM type = infantry amount = 18 } }
		else_if = { limit = { fort_level = 17 } kill_units = { who = FROM type = infantry amount = 17 } }
		else_if = { limit = { fort_level = 16 } kill_units = { who = FROM type = infantry amount = 16 } }
		else_if = { limit = { fort_level = 15 } kill_units = { who = FROM type = infantry amount = 15 } }
		else_if = { limit = { fort_level = 14 } kill_units = { who = FROM type = infantry amount = 14 } }
		else_if = { limit = { fort_level = 13 } kill_units = { who = FROM type = infantry amount = 13 } }
		else_if = { limit = { fort_level = 12 } kill_units = { who = FROM type = infantry amount = 12 } }
		else_if = { limit = { fort_level = 11 } kill_units = { who = FROM type = infantry amount = 11 } }
		else_if = { limit = { fort_level = 10 } kill_units = { who = FROM type = infantry amount = 10 } }
		else_if = { limit = { fort_level = 9 } kill_units = { who = FROM type = infantry amount = 9 } }
		else_if = { limit = { fort_level = 8 } kill_units = { who = FROM type = infantry amount = 8 } }
		else_if = { limit = { fort_level = 7 } kill_units = { who = FROM type = infantry amount = 7 } }
		else_if = { limit = { fort_level = 6 } kill_units = { who = FROM type = infantry amount = 6 } }
		else_if = { limit = { fort_level = 5 } kill_units = { who = FROM type = infantry amount = 5 } }
		else_if = { limit = { fort_level = 4 } kill_units = { who = FROM type = infantry amount = 4 } }
		else_if = { limit = { fort_level = 3 } kill_units = { who = FROM type = infantry amount = 3 } }
		else_if = { limit = { fort_level = 2 } kill_units = { who = FROM type = infantry amount = 2 } }
		else_if = { limit = { fort_level = 1 } kill_units = { who = FROM type = infantry amount = 1 } }
	}
	tooltip = "Ogre Ram"
}
custom_button = {
	name = abolish_the_elections
	potential = {
		is_emperor = yes
	}
	trigger = {
		hidden_trigger = {
			NOT = { has_global_flag = aoa_incident_active_flag_tt }
			is_at_war = no
			imperial_influence = 50
			has_global_flag = flag_reform_hre_1
			has_global_flag = flag_reform_hre_2
			has_global_flag = flag_reform_hre_3
			has_global_flag = flag_reform_hre_4
			has_global_flag = flag_reform_hre_5
		}
	}
	effect = {
		custom_tooltip = abolish_the_elections_desc
		if = {
			limit = {
				hre_religion_locked = no
				hre_religion_treaty = no
			}
			set_hre_religion_treaty = yes
		}
		hidden_effect = { add_imperial_influence = -100 }
		
		hre_inheritable = yes
		set_country_flag = emperorship_hereditary_flag
		custom_tooltip = celebrate_space_tooltip
		custom_tooltip = spacing_tooltip
		if = {
			limit = { is_at_war = yes }
			custom_tooltip = no_reform_at_war_desc
		}
		if = {
			limit = { has_global_flag = aoa_incident_active_flag_tt }
			custom_tooltip = no_reform_on_incident_desc
		}
		custom_tooltip = abolish_the_elections_tooltip
	}
	tooltip = abolish_the_elections_tt
}
custom_icon = {
	name = abolish_the_elections_off
	potential = {
		NOT = { is_emperor = yes }
	}
	tooltip = abolish_the_elections_off_tt
}
custom_icon = {
	name = abolish_the_elections_on
	potential = {
		emperor = {
			has_country_flag = emperorship_hereditary_flag
		}
	}
	tooltip = abolish_the_elections_on_tt
}

custom_button = {
	name = red_button
	potential = {
		red_alert = yes
	}
	trigger = {
		if = {
			limit = {has_country_modifier = mission_nuclear_modifier}
			NOT = { has_country_modifier = mission_nuclear_modifier }
		}
		is_in_war = { duration = 100 }
	}
	effect = {
		set_country_flag = red_button_already_used_flag
		#red button effect
		add_army_tradition = 20
		hidden_effect = { add_country_modifier = { name = temporary_slacken_modifier duration = 1825 } }	#free slacken
		custom_tooltip = temporary_slacken_modifier_5_years_tt
		add_country_modifier = { name = mission_nuclear_modifier duration = 1825 }	#generic defensive bonus 
		set_country_flag = hero_free_general_flag	#get great general
		custom_tooltip = get_free_great_hero_general_tt
		set_country_flag = get_adventurer_flag
		custom_tooltip = get_adventurer_flag_tt
		set_country_flag = great_general_extra_pips_flag
		custom_tooltip = great_general_extra_pips_flag_tt
		hidden_effect = {	#bertus mod
			set_saved_name = {key = special_general_name type = advisor scope = ROOT}
			country_event = {id = bertus_changes.6030}
		}
	}
	tooltip = RED_BUTTON_TT
}