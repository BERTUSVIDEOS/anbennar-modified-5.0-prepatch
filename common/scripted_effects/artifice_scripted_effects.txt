
update_artifice_points = {
	if = {
		limit = { OR = { has_estate = estate_artificers AND = { has_estate = estate_dragon_command has_institution = manufactories } } }
		hidden_effect = {
			set_variable = { which = MaxArtificePoints value = 0 }
			set_variable = { which = CoalArtificePoints value = 0 }
			set_variable = { which = DamestearArtificePoints value = 0 }
			set_variable = { which = RelicsArtificePoints value = 0 }
			set_variable = { which = UniversityArtificePoints value = 0 }
			set_variable = { which = ArtificePointsMultiplier value = 1 }
			export_to_variable = { which = ArtificePointsMultiplier value = modifier:artificers_capacity_multiplier_modifier }
			export_to_variable = { which = MaxArtificePoints value = modifier:artificers_capacity_flat_modifier }
			# If you're adding a modifier here make sure to also add it to the artifice localization (in artifice_l_english and anb_custom_artifice_localization) otherwise it will not show up in game

			if = { limit = { damestear = 1 NOT = { is_colonial_nation = yes } } change_variable = { which = MaxArtificePoints which = damestear_total } change_variable = { which = DamestearArtificePoints which = damestear_total } }
			if = { limit = { precursor_relics = 1 NOT = { is_colonial_nation = yes } } change_variable = { which = MaxArtificePoints which = precursor_relics_total } change_variable = { which = RelicsArtificePoints which = precursor_relics_total } }
			if = { limit = { coal = 1 NOT = { is_colonial_nation = yes } } change_variable = { which = MaxArtificePoints which = coal_total } change_variable = { which = CoalArtificePoints which = coal_total } }
						
			#0.01 point per dev on universities.
			if = {
				limit = {
					OR = {
						education_lvl_1 = 1 
						education_lvl_2 = 1
						university = 1 
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							has_building = education_lvl_1
							has_building = education_lvl_2
							has_building = university
						}
					}					
					set_variable = { which = university_artifice_development value = 0 }
					export_to_variable = { which = university_artifice_development value = development }
					if = {
						limit = { has_building = education_lvl_1 }
						multiply_variable = { which = university_artifice_development value = 0.01 }
					}
					if = {
						limit = { has_building = education_lvl_2 }
						multiply_variable = { which = university_artifice_development value = 0.05 }
					}
					if = {
						limit = { has_building = university }
						multiply_variable = { which = university_artifice_development value = 0.10 }
					}
					owner = {
						change_variable = { which = university_artifice_development which = PREV }
						change_variable = { which = UniversityArtificePoints which = university_artifice_development }
						change_variable = { which = MaxArtificePoints which = university_artifice_development }
						set_variable = { which = university_artifice_development value = 0 }
					}
				}
			}	
			#static sources from things like missions and upkeep
			change_variable = { which = MaxArtificePoints which = artifice_investment_var}	#bertus mod
			change_variable = { which = MaxArtificePoints which = StaticArtificePoints }

			# Points Multiplier
			#IF YOU WANT TO ADD MORE MULTIPLIERS MAKE SURE TO add to getArtificeHasMultipliers in anb_custom_artifice_localization or the multipliers may not show up correctly

			#Multipliers from government
			if = { limit = { has_government_attribute = is_technocracy } change_variable = { which = ArtificePointsMultiplier value = 0.25 } }
			else_if = { limit = { has_government_attribute = is_magocracy } subtract_variable = { which = ArtificePointsMultiplier value = 0.25 } }
			else_if = { limit = { has_government_attribute = is_feiten_keju } change_variable = { which = ArtificePointsMultiplier value = 0.25 } }
			
			change_variable = { which = ArtificePointsMultiplier value = 1 }
			# Floor at 0
			if = { limit = { NOT = { check_variable = { which = ArtificePointsMultiplier value = 0 } } } set_variable = { which = ArtificePointsMultiplier value = 0 } }
			else = { multiply_variable = { which = MaxArtificePoints which = ArtificePointsMultiplier } } 
			# Floor at 0
			if = { limit = { NOT = { check_variable = { which = MaxArtificePoints value = 0 } } } set_variable = { which = MaxArtificePoints value = 0 } }
			set_variable = { which = RemainingArtificePoints value = 0 }
			change_variable = { which = RemainingArtificePoints which = MaxArtificePoints }
			subtract_variable = { which = RemainingArtificePoints which = ArtificeUpkeep }
			# If over capacity
			if = { limit = { NOT = { check_variable = { which = RemainingArtificePoints value = 0 } } } add_country_modifier = { name =  artificers_over_artifice_capacity duration = -1 } }
			else = { remove_country_modifier = artificers_over_artifice_capacity }
		}
	}
}

set_up_artifice_system = {
	if = {
		limit = { NOT = { has_country_flag = artifice_set_up } }
		set_variable = { which = StaticArtificePoints value = 0 }
		set_variable = { which = ArtificeUpkeep value = 0 }
		set_variable = { which = artifice_investment_var value = 0 }	#bertus mod
		set_country_flag = artifice_set_up
	}
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_granted_basic = {
	custom_tooltip = increases_our_artifice_upkeep_by_10
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { change_variable = { which = ArtificeUpkeep value = 5 } }	#10→5
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_remove_basic = {
	custom_tooltip = decreases_our_artifice_upkeep_by_10
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { subtract_variable = { which = ArtificeUpkeep value = 5 } }	#10→5
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_granted_expert = {
	custom_tooltip = increases_our_artifice_upkeep_by_20
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { change_variable = { which = ArtificeUpkeep value = 10 } }	#20→10
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_remove_expert = {
	custom_tooltip = decreases_our_artifice_upkeep_by_20
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { subtract_variable = { which = ArtificeUpkeep value = 10 } }	#20→10
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_granted_advanced = {
	custom_tooltip = increases_our_artifice_upkeep_by_30
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { change_variable = { which = ArtificeUpkeep value = 15 } }	#30→15
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_remove_advanced = {
	custom_tooltip = decreases_our_artifice_upkeep_by_30
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { subtract_variable = { which = ArtificeUpkeep value = 15 } }	#30→15
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}


artifice_granted_masterwork = {
	custom_tooltip = increases_our_artifice_upkeep_by_40
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { change_variable = { which = ArtificeUpkeep value = 20 } }	#40→20
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

artifice_remove_masterwork = {
	custom_tooltip = decreases_our_artifice_upkeep_by_40
	custom_tooltip = artificer_points_upkeep_tt
	hidden_effect = { subtract_variable = { which = ArtificeUpkeep value = 20 } }	#40→20
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

mission_reward_artifice_points_1 = {
	custom_tooltip = permanently_increases_our_artifice_points_by_1_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = 1 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

mission_reward_artifice_points_2 = {
	custom_tooltip = permanently_increases_our_artifice_points_by_2_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = 2 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

mission_reward_artifice_points_3 = {
	custom_tooltip = permanently_increases_our_artifice_points_by_3_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = 3 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

mission_reward_artifice_points_4 = {
	custom_tooltip = permanently_increases_our_artifice_points_by_4_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = 4 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

mission_reward_artifice_points_5 = {
	custom_tooltip = permanently_increases_our_artifice_points_by_5_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = 5 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

debuff_artifice_points_2 = {
	custom_tooltip = permanently_decreases_our_artifice_points_by_2_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = -2 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

debuff_artifice_points_5 = {
	custom_tooltip = permanently_decreases_our_artifice_points_by_5_tt
	hidden_effect = { change_variable = { which = StaticArtificePoints value = -5 } }
	hidden_effect = {country_event = {id = anbennar_setup.20 } }
}

#research rewards

artifice_research_rewards = {
	random_list = {
		# Brilliance - society
		10 = {
			set_country_flag = unlocked_artifice_invention_arithmatons
			# custom_tooltip = invention_arithmatons_tt
			ROOT = { country_event = { id = artifice_inventions.100 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_arithmatons }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_apparitional_communicator
			ROOT = { country_event = { id = artifice_inventions.101 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_apparitional_communicator }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_mystic_ciphers
			ROOT = { country_event = { id = artifice_inventions.102 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mystic_ciphers }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_viewcatcher
			# custom_tooltip = invention_viewcatcher_tt
			ROOT = { country_event = { id = artifice_inventions.103 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_viewcatcher }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_conversation_calibrator
			ROOT = { country_event = { id = artifice_inventions.104 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_conversation_calibrator }
			modifier = { factor = 0 NOT = { culture_group = gnomish } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_god_fragment_decoder
			ROOT = { country_event = { id = artifice_inventions.106 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_god_fragment_decoder }
			modifier = { factor = 0 NOT = { religion = ravelian } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_sunblotter_cream
			ROOT = { country_event = { id = artifice_inventions.107 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_sunblotter_cream }
			modifier = { factor = 0 NOT = { has_estate = estate_vampires } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_talking_god_temples
			ROOT = { country_event = { id = artifice_inventions.108 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_talking_god_temples }
			modifier = { factor = 0 NOT = { religion = gods_of_the_taychend } }
		}
		# Brilliance - industry & state
		10 = {
			set_country_flag = unlocked_artifice_invention_brass_prosthesis
			# custom_tooltip = invention_brass_prosthesis_tt
			ROOT = { country_event = { id = artifice_inventions.200 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_brass_prosthesis }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_t_wave_transceivers
			# custom_tooltip = invention_t_wave_transceivers_tt
			ROOT = { country_event = { id = artifice_inventions.202 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_t_wave_transceivers }
		}
		10 = {	#workforce lvl 2
			set_country_flag = unlocked_artifice_invention_mechanim_workforce
			ROOT = { country_event = { id = artifice_inventions.203 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mechanim_workforce }
			modifier = { factor = 0 NOT = { has_country_flag = unlocked_artifice_invention_spirit_proof_exoskeleton } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_automated_translator
			ROOT = { country_event = { id = artifice_inventions.205 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_automated_translator }
		}
		# Brilliance - warfare & armaments
		10 = {
			set_country_flag = unlocked_artifice_invention_balloonboost_packs
			# custom_tooltip = invention_sparkdrive_rifles_tt
			ROOT = { country_event = { id = artifice_inventions.300 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_balloonboost_packs }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_rifle_weapons_1
			# custom_tooltip = invention_sparkdrive_rifles_tt
			ROOT = { country_event = { id = artifice_inventions.301 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_rifle_weapons_1
			}
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_rifle_weapons_2
			# custom_tooltip = invention_sparkdrive_rifles_tt
			ROOT = { country_event = { id = artifice_inventions.301 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_rifle_weapons_2 }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_rifle_weapons_1} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_rifle_weapons_3
			# custom_tooltip = invention_sparkdrive_rifles_tt
			ROOT = { country_event = { id = artifice_inventions.301 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_rifle_weapons_3 }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_rifle_weapons_2} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_ancestral_gaurdian_golems
			ROOT = { country_event = { id = artifice_inventions.304 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_ancestral_gaurdian_golems }
			modifier = { factor = 0 NOT = { religion = ancestor_worship } }
			modifier = { factor = 0 has_country_flag = asra_model_golems_unlocked }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_elemental_serum
			ROOT = { country_event = { id = artifice_inventions.306 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_enhancement } }
			modifier = { factor = 10 has_country_flag = artifice_research_enhancement }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_elemental_serum
			}
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_soldier_serum
			ROOT = { country_event = { id = artifice_inventions.306 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_enhancement } }
			modifier = { factor = 10 has_country_flag = artifice_research_enhancement  }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_soldier_serum }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_elemental_serum} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_avatar_supersoldier_serum
			ROOT = { country_event = { id = artifice_inventions.306 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_enhancement } }
			modifier = { factor = 10 has_country_flag = artifice_research_enhancement }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_avatar_supersoldier_serum }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_soldier_serum} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_demonflame_flamethrowers
			ROOT = { country_event = { id = artifice_inventions.308 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_demonflame_flamethrowers }
			modifier = { factor = 0 NOT = { religion = xhazobkult } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_dragonblood_gene_warriors
			ROOT = { country_event = { id = artifice_inventions.309 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_enhancement } }
			modifier = { factor = 10 has_country_flag = artifice_research_enhancement }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_dragonblood_gene_warriors }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_soldier_serum } }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_scale_plating
			ROOT = { country_event = { id = artifice_inventions.310 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_scale_plating }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_dragonscale_plating
			ROOT = { country_event = { id = artifice_inventions.310 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_dragonscale_plating }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_scale_plating } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_eplusplus_compound
			ROOT = { country_event = { id = artifice_inventions.311 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_eplusplus_compound }
			modifier = { factor = 0 NOT = { culture_group = goblin } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_kaydhano_powered_vessels
			ROOT = { country_event = { id = artifice_inventions.312 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_kaydhano_powered_vessels }
			modifier = { factor = 0 NOT = { culture_group = kheionai_ruinborn_elf } }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_lullaby_cannon
			ROOT = { country_event = { id = artifice_inventions.313 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_lullaby_cannon }
			modifier = { factor = 0 NOT = { religion = skaldhyrric_faith } }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_power_fists
			ROOT = { country_event = { id = artifice_inventions.314 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_power_fists }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_mechanic_fists
			# custom_tooltip = invention_mechanim_soldiers_tt
			ROOT = { country_event = { id = artifice_inventions.314 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mechanic_fists }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_power_fists} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_mechanim_power_fists
			# custom_tooltip = invention_mechanim_soldiers_tt
			ROOT = { country_event = { id = artifice_inventions.314 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mechanim_power_fists }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_mechanic_fists } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_sunbeam_armaments
			ROOT = { country_event = { id = artifice_inventions.315 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_sunbeam_armaments }
			modifier = { factor = 0 NOT = { religion_group = bulwari } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_arcane_blaster
			ROOT = { country_event = { id = artifice_inventions.317 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_arcane_blaster }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_rifle_weapons_2} }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_blade_weapons_2} }
		}
		# Technomancy - society & trade
		10 = {
			set_country_flag = unlocked_artifice_invention_sending_stones
			# custom_tooltip = invention_sending_stones_tt
			ROOT = { country_event = { id = artifice_inventions.400 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_sending_stones }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_crierless_crier_device
			# custom_tooltip = invention_crierless_crier_device_tt
			ROOT = { country_event = { id = artifice_inventions.401 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_crierless_crier_device }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_living_mirrors
			# custom_tooltip = invention_living_mirrors_tt
			ROOT = { country_event = { id = artifice_inventions.402 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_living_mirrors }
		}
		# Technomany - Industry & State
		10 = {
			set_country_flag = unlocked_artifice_invention_vendorless_stall
			# custom_tooltip = invention_vendorless_stall_tt
			ROOT = { country_event = { id = artifice_inventions.500 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_vendorless_stall }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_spell_in_a_box
			# custom_tooltip = invention_spell_in_a_box_tt
			ROOT = { country_event = { id = artifice_inventions.501 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_spell_in_a_box }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_chi_cultivation_charm
			ROOT = { country_event = { id = artifice_inventions.502 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_chi_cultivation_charm }
			modifier = { factor = 0 NOT = { religion = lefthand_path } }
		}
		# Technomany - Warfare & Armaments
		10 = {
			set_country_flag = unlocked_artifice_invention_vorpal_bullets
			# custom_tooltip = invention_vorpal_bullets_tt
			ROOT = { country_event = { id = artifice_inventions.600 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_projectile } }
			modifier = { factor = 10 has_country_flag = artifice_research_projectile }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_vorpal_bullets }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_elemental_gunpowder} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_war_golems
			# custom_tooltip = invention_war_golems_tt
			ROOT = { country_event = { id = artifice_inventions.601 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_war_golems }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_vorpal_rune_protection
			# custom_tooltip = invention_war_golems_tt
			ROOT = { country_event = { id = artifice_inventions.601 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_vorpal_rune_protection }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_war_golems} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_wandlocks
			# custom_tooltip = invention_wandlocks_tt
			ROOT = { country_event = { id = artifice_inventions.602 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_wandlocks }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_personal_mageshields
			# custom_tooltip = invention_personal_mageshields_tt
			ROOT = { country_event = { id = artifice_inventions.603 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_personal_mageshields }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_dragonscale_plating} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_controlled_rage_serum
			ROOT = { country_event = { id = artifice_inventions.605 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_enhancement } }
			modifier = { factor = 10 has_country_flag = artifice_research_enhancement }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_controlled_rage_serum} }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_soldier_serum} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_elemental_gunpowder
			ROOT = { country_event = { id = artifice_inventions.606 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 2 culture_group = goblin }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_projectile } }
			modifier = { factor = 10 has_country_flag = artifice_research_projectile }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_elemental_gunpowder }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_vernman_hero_tonic
			ROOT = { country_event = { id = artifice_inventions.607 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_enhancement } }
			modifier = { factor = 10 has_country_flag = artifice_research_enhancement }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_vernman_hero_tonic} }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_soldier_serum} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_veykoda_rune_protections
			ROOT = { country_event = { id = artifice_inventions.608 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_veykoda_rune_protections }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_vorpal_rune_protection} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_box_of_holding
			ROOT = { country_event = { id = artifice_inventions.609 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 10 tag = Y65 any_owned_province = { has_province_modifier = arawkelin_soil_erosion } }
			modifier = { factor = 20 num_of_owned_provinces_with = { value = 10 has_province_modifier = arawkelin_soil_erosion } }
			modifier = { factor = 50 num_of_owned_provinces_with = { value = 20 has_province_modifier = arawkelin_soil_erosion } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_box_of_holding }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_magic_missile_deployer
			ROOT = { country_event = { id = artifice_inventions.611 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_magic_missile_deployer }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_naval_mageshields
			ROOT = { country_event = { id = artifice_inventions.612 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_naval_mageshields }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}

		# Mechanists - Society & Trade
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_blade_weapons_1
			ROOT = { country_event = { id = artifice_inventions.318 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_blade_weapons_1 }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_blade_weapons_2
			ROOT = { country_event = { id = artifice_inventions.318 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_blade_weapons_2 }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_blade_weapons_1} }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_blade_weapons_3
			ROOT = { country_event = { id = artifice_inventions.318 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_weapons } }
			modifier = { factor = 10 has_country_flag = artifice_research_weapons }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_blade_weapons_3 }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_blade_weapons_2} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_elemental_locomotives
			# custom_tooltip = invention_elemental_locomotives_tt
			ROOT = { country_event = { id = artifice_inventions.701 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_elemental_locomotives }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_burrower_arms
			# custom_tooltip = invention_burrower_arms_tt
			ROOT = { country_event = { id = artifice_inventions.702 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_burrower_arms }
			modifier = { factor = 0 NOT = { culture_group = kobold } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_divendancer_speedboat
			# custom_tooltip = invention_divendancer_speedboat_tt
			ROOT = { country_event = { id = artifice_inventions.703 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_divendancer_speedboat }
			modifier = { factor = 0 NOT = { OR = { culture_group = businori tag = A33 any_known_country = {has_country_flag = unlocked_artifice_invention_divendancer_speedboat} } } }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_scrapperclaws
			# custom_tooltip = invention_scrapperclaws_tt
			ROOT = { country_event = { id = artifice_inventions.704 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_scrapperclaws }
			modifier = { factor = 0 NOT = { culture_group = gnollish } }
		}
		# Mechanists - Industry & State
		10 = {	#workforce lvl 3
			set_country_flag = unlocked_artifice_invention_artifice_powered_magnate_factories
			# custom_tooltip = invention_remedial_tinctures_tt
			ROOT = { country_event = { id = artifice_inventions.800 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_artifice_powered_magnate_factories }
			modifier = { factor = 0 NOT = { has_country_flag = unlocked_artifice_invention_mechanim_workforce } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_city_maintenance_bots
			# custom_tooltip = invention_remedial_tinctures_tt
			ROOT = { country_event = { id = artifice_inventions.801 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_city_maintenance_bots }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_fine_print_obfuscator
			# custom_tooltip = invention_fine_print_obfuscator_tt
			ROOT = { country_event = { id = artifice_inventions.802 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_fine_print_obfuscator }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_mechanim_handymen
			# custom_tooltip = invention_fine_print_obfuscator_tt
			ROOT = { country_event = { id = artifice_inventions.803 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mechanim_handymen }
			modifier = { factor = 0 NOT = { culture_group = gnomish } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_wine_ageifier
			# custom_tooltip = invention_wine_ageifier_tt
			ROOT = { country_event = { id = artifice_inventions.806 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_wine_ageifier }
			modifier = { factor = 0.5 NOT = { culture_group = lencori } NOT = { primary_culture = rosanda } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_commercial_sky_galleons
			# custom_tooltip = invention_commercial_sky_galleons_tt
			ROOT = { country_event = { id = artifice_inventions.808 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_commercial_sky_galleons }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_remedial_tinctures
			# custom_tooltip = invention_remedial_tinctures_tt
			ROOT = { country_event = { id = artifice_inventions.700 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_remedial_tinctures }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_self_cleaning_parchment
			# custom_tooltip = invention_self_cleaning_parchment_tt
			ROOT = { country_event = { id = artifice_inventions.809 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_self_cleaning_parchment }
		}
		10 = {	#Artificer Food boost I
			set_country_flag = unlocked_artifice_invention_growth_beans
			ROOT = { country_event = { id = artifice_inventions.610 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 10 tag = Y65 any_owned_province = { has_province_modifier = arawkelin_soil_erosion } }
			modifier = { factor = 20 num_of_owned_provinces_with = { value = 10 has_province_modifier = arawkelin_soil_erosion } }
			modifier = { factor = 50 num_of_owned_provinces_with = { value = 20 has_province_modifier = arawkelin_soil_erosion } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_growth_beans
			}
		}
		10 = {	#Artificer Food boost II
			set_country_flag = unlocked_artifice_invention_gene_food_cultivation
			ROOT = { country_event = { id = artifice_inventions.914 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_gene_food_cultivation }
			modifier = { factor = 0 NOT = { has_country_flag = unlocked_artifice_invention_growth_beans } }
		}
		# Mechanists - Warfare & Armaments
		10 = {
			set_country_flag = unlocked_artifice_invention_chase_em_rockets
			# custom_tooltip = invention_chase_em_rockets_tt
			ROOT = { country_event = { id = artifice_inventions.900 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_chase_em_rockets }
		}
		10 = {	#bertus mod
			set_country_flag = unlocked_artifice_invention_warframe
			# custom_tooltip = invention_giantshape_warframe_tt
			ROOT = { country_event = { id = artifice_inventions.901 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_warframe }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_giantshape_warframe
			# custom_tooltip = invention_giantshape_warframe_tt
			ROOT = { country_event = { id = artifice_inventions.901 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_giantshape_warframe }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_warframe} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_gu_boats
			# custom_tooltip = invention_gu_boats_tt
			ROOT = { country_event = { id = artifice_inventions.902 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_gu_boats}
			modifier = { factor = 0 NOT = { culture_group = gnomish } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_gyrocopters
			# custom_tooltip = invention_gyrocopters_tt
			ROOT = { country_event = { id = artifice_inventions.903 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_gyrocopters }
			modifier = { factor = 0 NOT = { culture_group = dwarven } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_platinum_warsuit
			# custom_tooltip = invention_platinum_warsuit_tt
			ROOT = { country_event = { id = artifice_inventions.904 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_armor } }
			modifier = { factor = 10 has_country_flag = artifice_research_armor }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_platinum_warsuit }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_giantshape_warframe } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_predator_exoskeleton
			# custom_tooltip = invention_predator_exoskeleton_tt
			ROOT = { country_event = { id = artifice_inventions.905 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget  }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_predator_exoskeleton
			}
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_artificer_exo_arms
			# custom_tooltip = invention_artificer_exo_arms_tt
			ROOT = { country_event = { id = artifice_inventions.201 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget  }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_artificer_exo_arms }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_predator_exoskeleton} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_mechanim_soldiers
			# custom_tooltip = invention_mechanim_soldiers_tt
			ROOT = { country_event = { id = artifice_inventions.302 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mechanim_soldiers }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_artificer_exo_arms} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_scrap_mechs
			# custom_tooltip = invention_scrap_mechs_tt
			ROOT = { country_event = { id = artifice_inventions.906 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_scrap_mechs }
			modifier = { factor = 0 NOT = { culture_group = goblin } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_war_rigs
			# custom_tooltip = invention_war_rigs_tt
			ROOT = { country_event = { id = artifice_inventions.907 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_war_rigs }
			modifier = { factor = 0 NOT = { culture_group = taychendi_ruinborn_elf } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_wind_invokers
			# custom_tooltip = invention_wind_invokers_tt
			ROOT = { country_event = { id = artifice_inventions.908 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_wind_invokers }
			modifier = { factor = 0 NOT = { religion = ik_magthaal } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_portable_turrets
			# custom_tooltip = invention_portable_turrets_tt
			ROOT = { country_event = { id = artifice_inventions.909 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_portable_turrets }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_codorran_powered_exosuit
			ROOT = { country_event = { id = artifice_inventions.307 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_codorran_powered_exosuit }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_portable_turrets } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_mechanim_auto_rifle
			# custom_tooltip = invention_mechanim_soldiers_tt
			ROOT = { country_event = { id = artifice_inventions.302 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_gadget } }
			modifier = { factor = 10 has_country_flag = artifice_research_gadget }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_mechanim_auto_rifle }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_codorran_powered_exosuit} }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_black_damestear_bullets
			# custom_tooltip = invention_black_damestear_bullets_tt
			ROOT = { country_event = { id = artifice_inventions.910 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_projectile } }
			modifier = { factor = 10 has_country_flag = artifice_research_projectile }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_black_damestear_bullets }
			modifier = { factor = 0 NOT = {has_country_flag = unlocked_artifice_invention_vorpal_bullets } }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_artillery_autoloader
			# custom_tooltip = invention_artillery_autoloader_tt
			ROOT = { country_event = { id = artifice_inventions.911 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_artillery_autoloader }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_prototype_tanks
			# custom_tooltip = invention_prototype_tanks_tt
			ROOT = { country_event = { id = artifice_inventions.912 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_modifier = gnomish_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_prototype_tanks }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_tanks
			# custom_tooltip = invention_prototype_tanks_tt
			ROOT = { country_event = { id = artifice_inventions.912 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_modifier = gnomish_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = unlocked_artifice_invention_prototype_tanks } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_tanks }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_improved_tanks
			# custom_tooltip = invention_prototype_tanks_tt
			ROOT = { country_event = { id = artifice_inventions.912 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_modifier = gnomish_military } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 NOT = { has_country_flag = unlocked_artifice_invention_tanks } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_improved_tanks }
		}
		10 = {
			set_country_flag = unlocked_artifice_invention_military_sky_galleons
			# custom_tooltip = invention_military_sky_galleons_tt
			ROOT = { country_event = { id = artifice_inventions.913 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_military_sky_galleons }
			modifier = { factor = 0 NOT = { any_owned_province = { has_port = yes } } }
		}
		10 = {	#workforce lvl 1
			set_country_flag = unlocked_artifice_invention_spirit_proof_exoskeleton
			# custom_tooltip = invention_spirit_proof_exoskeleton
			ROOT = { country_event = { id = artifice_inventions.916 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_flag = unlocked_artifice_invention_spirit_proof_exoskeleton }
		}
		#bonuses as fallback
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1000 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_machinery_mil }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1001 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_machinery_ind }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1002 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_machinery } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_machinery_society }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1003 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_technomancy_mil }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1004 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_technomancy_ind }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1005 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_technomancy } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_technomancy_society }
		}

		1 = {
			ROOT = { country_event = { id = artifice_inventions.1006 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_military } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_brilliance_mil }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1007 } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_industry } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_brilliance_ind }
		}
		1 = {
			ROOT = { country_event = { id = artifice_inventions.1008 } }
			add_country_modifier = { name = artificer_research_bonus_brilliance_society duration = 3650 }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_brilliance } }
			modifier = { factor = 0 NOT = { has_country_flag = artifice_research_society } }
			modifier = { factor = 0 has_country_modifier = artificer_research_bonus_brilliance_society }
		}
	}

	#cleanup
	clr_country_flag = artifice_research_brilliance
	clr_country_flag = artifice_research_technomancy
	clr_country_flag = artifice_research_machinery

	clr_country_flag = artifice_research_society
	clr_country_flag = artifice_research_industry
	clr_country_flag = artifice_research_military
	clr_country_flag = feiten_directed_airfleet_research
	
	clr_country_flag = artifice_research_weapons
	clr_country_flag = artifice_research_armor
	clr_country_flag = artifice_research_gadget
	clr_country_flag = artifice_research_projectile
	clr_country_flag = artifice_research_enchantment
}
