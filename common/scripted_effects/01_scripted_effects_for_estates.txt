#Scripted effects for estates

# Will apply effect if estate is present
# effect: Will apply effect to each estate present if defined
# <estate>_effect: Will apply effect to specific estate present if defined
each_estate_effect = {
	if = {
		limit = { has_estate = estate_mages }
		[[effect]
			$effect$
		]
		[[mages_effect]
			$mages_effect$
		]
	}
	if = {
		limit = { has_estate = estate_adventurers }
		[[effect]
			$effect$
		]
		[[adventurers_effect]
			$adventurers_effect$
		]
	}
	if = {
		limit = { has_estate = estate_artificers }
		[[effect]
			$effect$
		]
		[[artificers_effect]
			$artificers_effect$
		]
	}
	if = {
		limit = { has_estate = estate_daulophs }
		[[effect]
			$effect$
		]
		[[daulophs_effect]
			$daulophs_effect$
		]
	}
	if = {
		limit = { has_estate = estate_monstrous_tribes }
		[[effect]
			$effect$
		]
		[[monstrous_tribes_effect]
			$monstrous_tribes_effect$
		]
	}
	if = {
		limit = { has_estate = estate_raj_ministries }
		[[effect]
			$effect$
		]
		[[raj_ministries_effect]
			$raj_ministries_effect$
		]
	}
	if = {
		limit = { has_estate = estate_uppercastes }
		[[effect]
			$effect$
		]
		[[uppercastes_effect]
			$uppercastes_effect$
		]
	}
	if = {
		limit = { has_estate = estate_middlecastes }
		[[effect]
			$effect$
		]
		[[middlecastes_effect]
			$middlecastes_effect$
		]
	}
	if = {
		limit = { has_estate = estate_lowercastes }
		[[effect]
			$effect$
		]
		[[lowercastes_effect]
			$lowercastes_effect$
		]
	}
	if = {
		limit = { has_estate = estate_vampires }
		[[effect]
			$effect$
		]
		[[vampires_effect]
			$vampires_effect$
		]
	}
	if = {
		limit = { has_estate = estate_castonath_patricians }
		[[effect]
			$effect$
		]
		[[castonath_patricians_effect]
			$castonath_patricians_effect$
		]
	}
	if = {
		limit = { has_estate = estate_eunuchs_anb }
		[[effect]
			$effect$
		]
		[[castonath_patricians_effect]
			$eunuchs_effect$
		]
	}
	if = {
		limit = { has_estate = estate_shinukhorchi }
		[[effect]
			$effect$
		]
		[[shinukhorchi_effect]
			$shinukhorchi_effect$
		]
	}
	if = {
		limit = { has_estate = estate_chumijemoya }
		[[effect]
			$effect$
		]
		[[chumijemoya_effect]
			$chumijemoya_effect$
		]
	}
	if = {
		limit = { has_estate = estate_ajgriijarul }
		[[effect]
			$effect$
		]
		[[ajgriijarul_effect]
			$ajgriijarul_effect$
		]
	}
	if = {
		limit = { has_estate = estate_kabiurgarko }
		[[effect]
			$effect$
		]
		[[kabiurgarko_effect]
			$kabiurgarko_effect$
		]
	}
	if = {
		limit = { has_estate = estate_khelorvalshi }
		[[effect]
			$effect$
		]
		[[khelorvalshi_effect]
			$khelorvalshi_effect$
		]
	}
	#Wolf Command
	if = {
		limit = { has_estate = estate_wolf_command }
		[[effect]
			$effect$
		]
		[[wolf_command_effect]
			$wolf_command_effect$
		]
	}
	#Boar Command
	if = {
		limit = { has_estate = estate_boar_command }
		[[effect]
			$effect$
		]
		[[boar_command_effect]
			$boar_command_effect$
		]
	}
	#Lion Command
	if = {
		limit = { has_estate = estate_lion_command }
		[[effect]
			$effect$
		]
		[[lion_command_effect]
			$lion_command_effect$
		]
	}
	#Dragon Command
	if = {
		limit = { has_estate = estate_dragon_command }
		[[effect]
			$effect$
		]
		[[dragon_command_effect]
			$dragon_command_effect$
		]
	}
	#Elephant Command
	if = {
		limit = { has_estate = estate_elephant_command }
		[[effect]
			$effect$
		]
		[[elephant_command_effect]
			$elephant_command_effect$
		]
	}
	#Tiger Command
	if = {
		limit = { has_estate = estate_tiger_command }
		[[effect]
			$effect$
		]
		[[tiger_command_effect]
			$tiger_command_effect$
		]
	}
	#Gerunanin
	if = {
		limit = { has_estate = estate_gerunanin }
		[[effect]
			$effect$
		]
		[[gerunanin_effect]
			$gerunanin_effect$
		]
	}
}

#Clergy
add_estate_church_loyalty_effect = {
	# ANBENNAR
	else_if = {
		limit = { has_estate = estate_lowercastes }
		add_estate_loyalty = { estate = estate_lowercastes loyalty = 10 }
	}
	else_if = {
		limit = { has_estate = estate_shinukhorchi }
		add_estate_loyalty = { estate = estate_shinukhorchi loyalty = 10 }
	}
}
reduce_estate_church_loyalty_effect = {
	# ANBENNAR
	else_if = {
		limit = { has_estate = estate_lowercastes }
		add_estate_loyalty = { estate = estate_lowercastes loyalty = -10 }
	}
	else_if = {
		limit = { has_estate = estate_shinukhorchi }
		add_estate_loyalty = { estate = estate_shinukhorchi loyalty = -10 }
	}
}

#Dhimmi
add_estate_dhimmi_loyalty_effect = {}
reduce_estate_dhimmi_loyalty_effect = {}

#Nobles
add_estate_nobles_loyalty_effect = {
	# ANBENNAR
	else_if = {
		limit = { has_estate = estate_uppercastes }
		add_estate_loyalty = { estate = estate_uppercastes loyalty = 10 }
	}
	else_if = {
		limit = { has_estate = estate_eunuchs_anb }
		add_estate_loyalty = { estate = estate_eunuchs_anb loyalty = 10 }
	}
	else_if = {
		limit = { has_estate = estate_ajgriijarul }
		add_estate_loyalty = { estate = estate_ajgriijarul loyalty = 10 }
	}
}
reduce_estate_nobles_loyalty_effect = {
	# ANBENNAR
	else_if = {
		limit = { has_estate = estate_uppercastes }
		add_estate_loyalty = { estate = estate_uppercastes loyalty = -10 }
	}
	else_if = {
		limit = { has_estate = estate_eunuchs_anb }
		add_estate_loyalty = { estate = estate_eunuchs_anb loyalty = -10 }
	}
	else_if = {
		limit = { has_estate = estate_ajgriijarul }
		add_estate_loyalty = { estate = estate_ajgriijarul loyalty = -10 }
	}
}

#Burghers
add_estate_burghers_loyalty_effect = {
	# ANBENNAR
	else_if = {
		limit = { has_estate = estate_castonath_patricians }
		add_estate_loyalty = { estate = estate_castonath_patricians loyalty = 10 }
	}
	else_if = {
		limit = { has_estate = estate_middlecastes }
		add_estate_loyalty = { estate = estate_middlecastes loyalty = 10 }
	}
	else_if = {
		limit = { has_estate = estate_kabiurgarko }
		add_estate_loyalty = { estate = estate_kabiurgarko loyalty = 10 }
	}
}
reduce_estate_burghers_loyalty_effect = {
	# ANBENNAR
	else_if = {
		limit = { has_estate = estate_castonath_patricians }
		add_estate_loyalty = { estate = estate_castonath_patricians loyalty = -10 }
	}
	else_if = {
		limit = { has_estate = estate_middlecastes }
		add_estate_loyalty = { estate = estate_middlecastes loyalty = -10 }
	}
	else_if = {
		limit = { has_estate = estate_kabiurgarko }
		add_estate_loyalty = { estate = estate_kabiurgarko loyalty = -10 }
	}
}

#Cossacks
add_estate_cossacks_loyalty_effect = {}
reduce_estate_cossacks_loyalty_effect = {}

#Jains
add_estate_jains_loyalty_effect = {}
reduce_estate_jains_loyalty_effect = {}

#Rajput
add_estate_rajput_loyalty_effect = {}
reduce_estate_rajput_loyalty_effect = {}

#Anbennar
#Raj Ministries
add_estate_raj_ministries_loyalty_effect = {
	if = {
		limit = { has_estate = estate_raj_ministries }
		add_estate_loyalty = { estate = estate_raj_ministries loyalty = 10 }
	}
}
reduce_estate_raj_ministries_loyalty_effect = {
	if = {
		limit = { has_estate = estate_raj_ministries}
		add_estate_loyalty = { estate = estate_raj_ministries loyalty = -10 }
	}
}

#Monstrous Tribes
add_estate_monstrous_tribes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_monstrous_tribes }
		add_estate_loyalty = { estate = estate_monstrous_tribes loyalty = 10 }
	}
}
reduce_estate_monstrous_tribes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_monstrous_tribes }
		add_estate_loyalty = { estate = estate_monstrous_tribes loyalty = -10 }
	}
}

#Mages
add_estate_mages_loyalty_effect = {
	if = {
		limit = { has_estate = estate_mages }
		add_estate_loyalty = { estate = estate_mages loyalty = 10 }
	}
}
reduce_estate_mages_loyalty_effect = {
	if = {
		limit = { has_estate = estate_mages }
		add_estate_loyalty = { estate = estate_mages loyalty = -10 }
	}
}

#Adventurers
add_estate_adventurers_loyalty_effect = {
	if = {
		limit = { has_estate = estate_adventurers }
		add_estate_loyalty = { estate = estate_adventurers loyalty = 10 }
	}
}
reduce_estate_adventurers_loyalty_effect = {
	if = {
		limit = { has_estate = estate_adventurers }
		add_estate_loyalty = { estate = estate_adventurers loyalty = -10 }
	}
}

#Artificers
add_estate_artificers_loyalty_effect = {
	if = {
		limit = { has_estate = estate_artificers }
		add_estate_loyalty = { estate = estate_artificers loyalty = 10 }
	}
}
reduce_estate_artificers_loyalty_effect = {
	if = {
		limit = { has_estate = estate_artificers }
		add_estate_loyalty = { estate = estate_artificers loyalty = -10 }
	}
}

#Daulophs
add_estate_daulophs_loyalty_effect = {
	if = {
		limit = { has_estate = estate_daulophs }
		add_estate_loyalty = { estate = estate_daulophs loyalty = 10 }
	}
}
reduce_estate_daulophs_loyalty_effect = {
	if = {
		limit = { has_estate = estate_daulophs }
		add_estate_loyalty = { estate = estate_daulophs loyalty = -10 }
	}
}

#Blood Court
add_estate_vampires_loyalty_effect = {
	if = {
		limit = { has_estate = estate_vampires }
		add_estate_loyalty = { estate = estate_vampires loyalty = 10 }
	}
}
reduce_estate_vampires_loyalty_effect = {
	if = {
		limit = { has_estate = estate_vampires }
		add_estate_loyalty = { estate = estate_vampires loyalty = -10 }
	}
}

# Castonath Patricians
add_estate_castonath_patricians_loyalty_effect = {
	if = {
		limit = { has_estate = estate_castonath_patricians }
		add_estate_loyalty = { estate = estate_castonath_patricians loyalty = 10 }
	}
}
reduce_estate_castonath_patricians_loyalty_effect = {
	if = {
		limit = { has_estate = estate_castonath_patricians }
		add_estate_loyalty = { estate = estate_castonath_patricians loyalty = -10 }
	}
}

# Uppercastes
add_estate_uppercastes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_uppercastes }
		add_estate_loyalty = { estate = estate_uppercastes loyalty = 10 }
	}
}
reduce_estate_uppercastes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_uppercastes }
		add_estate_loyalty = { estate = estate_uppercastes loyalty = -10 }
	}
}

# Middlecastes
add_estate_middlecastes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_middlecastes }
		add_estate_loyalty = { estate = estate_middlecastes loyalty = 10 }
	}
}
reduce_estate_middlecastes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_middlecastes }
		add_estate_loyalty = { estate = estate_middlecastes loyalty = -10 }
	}
}

# Lowercastes
add_estate_lowercastes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_lowercastes }
		add_estate_loyalty = { estate = estate_lowercastes loyalty = 10 }
	}
}
reduce_estate_lowercastes_loyalty_effect = {
	if = {
		limit = { has_estate = estate_lowercastes }
		add_estate_loyalty = { estate = estate_lowercastes loyalty = -10 }
	}
}

#Eunuchs
add_estate_eunuchs_anb_loyalty_effect = {
	if = {
		limit = { has_estate = estate_eunuchs_anb }
		add_estate_loyalty = { estate = estate_eunuchs_anb loyalty = 10 }
	}
}
reduce_estate_eunuchs_anb_loyalty_effect = {
	if = {
		limit = { has_estate = estate_eunuchs_anb }
		add_estate_loyalty = { estate = estate_eunuchs_anb loyalty = -10 }
	}
}

#Shinukhorchi
add_estate_shinukhorchi_loyalty_effect = {
	if = {
		limit = { has_estate = estate_shinukhorchi }
		add_estate_loyalty = { estate = estate_shinukhorchi loyalty = 10 }
	}
}
reduce_estate_shinukhorchi_loyalty_effect = {
	if = {
		limit = { has_estate = estate_shinukhorchi }
		add_estate_loyalty = { estate = estate_shinukhorchi loyalty = -10 }
	}
}

#Chumijemoya
add_estate_chumijemoya_loyalty_effect = {
	if = {
		limit = { has_estate = estate_chumijemoya }
		add_estate_loyalty = { estate = estate_chumijemoya loyalty = 10 }
	}
}
reduce_estate_chumijemoya_loyalty_effect = {
	if = {
		limit = { has_estate = estate_chumijemoya }
		add_estate_loyalty = { estate = estate_chumijemoya loyalty = -10 }
	}
}

#Ajgriijarul
add_estate_ajgriijarul_loyalty_effect = {
	if = {
		limit = { has_estate = estate_ajgriijarul }
		add_estate_loyalty = { estate = estate_ajgriijarul loyalty = 10 }
	}
}
reduce_estate_ajgriijarul_loyalty_effect = {
	if = {
		limit = { has_estate = estate_ajgriijarul }
		add_estate_loyalty = { estate = estate_ajgriijarul loyalty = -10 }
	}
}

#Kabiurgarko
add_estate_kabiurgarko_loyalty_effect = {
	if = {
		limit = { has_estate = estate_kabiurgarko }
		add_estate_loyalty = { estate = estate_kabiurgarko loyalty = 10 }
	}
}
reduce_estate_kabiurgarko_loyalty_effect = {
	if = {
		limit = { has_estate = estate_kabiurgarko }
		add_estate_loyalty = { estate = estate_kabiurgarko loyalty = -10 }
	}
}

#Khelorvalshi
add_estate_khelorvalshi_loyalty_effect = {
	if = {
		limit = { has_estate = estate_khelorvalshi }
		add_estate_loyalty = { estate = estate_khelorvalshi loyalty = 10 }
	}
}
reduce_estate_khelorvalshi_loyalty_effect = {
	if = {
		limit = { has_estate = estate_khelorvalshi }
		add_estate_loyalty = { estate = estate_khelorvalshi loyalty = -10 }
	}
}

#Wolf Command
add_estate_wolf_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_wolf_command }
		add_estate_loyalty = { estate = estate_wolf_command loyalty = 10 }
	}
}
reduce_estate_wolf_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_wolf_command }
		add_estate_loyalty = { estate = estate_wolf_command loyalty = -10 }
	}
}

#Boar Command
add_estate_boar_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_boar_command }
		add_estate_loyalty = { estate = estate_boar_command loyalty = 10 }
	}
}
reduce_estate_boar_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_boar_command }
		add_estate_loyalty = { estate = estate_boar_command loyalty = -10 }
	}
}

#Lion Command
add_estate_lion_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_lion_command }
		add_estate_loyalty = { estate = estate_lion_command loyalty = 10 }
	}
}
reduce_estate_lion_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_lion_command }
		add_estate_loyalty = { estate = estate_lion_command loyalty = -10 }
	}
}

#Dragon Command
add_estate_dragon_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_dragon_command }
		add_estate_loyalty = { estate = estate_dragon_command loyalty = 10 }
	}
}
reduce_estate_dragon_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_dragon_command }
		add_estate_loyalty = { estate = estate_dragon_command loyalty = -10 }
	}
}

#Elephant Command
add_estate_elephant_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_elephant_command }
		add_estate_loyalty = { estate = estate_elephant_command loyalty = 10 }
	}
}
reduce_estate_elephant_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_elephant_command }
		add_estate_loyalty = { estate = estate_elephant_command loyalty = -10 }
	}
}

#Tiger Command
add_estate_tiger_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_tiger_command }
		add_estate_loyalty = { estate = estate_tiger_command loyalty = 10 }
	}
}
reduce_estate_tiger_command_loyalty_effect = {
	if = {
		limit = { has_estate = estate_tiger_command }
		add_estate_loyalty = { estate = estate_tiger_command loyalty = -10 }
	}
}

#Gerunanin
add_estate_gerunanin_loyalty_effect = {
	if = {
		limit = { has_estate = estate_gerunanin }
		add_estate_loyalty = { estate = estate_gerunanin loyalty = 10 }
	}
}
reduce_estate_gerunanin_loyalty_effect = {
	if = {
		limit = { has_estate = estate_gerunanin }
		add_estate_loyalty = { estate = estate_gerunanin loyalty = -10 }
	}
}

#Estate Privilege on_action effects

#Estate Privilege on_action effects
#1.35
on_religion_change_estate_privileges_effect = {}

on_secondary_religion_change_estate_privileges_effect = {
	#For whatever unholy reason, the trigger owner = { secondary_religion = PREV } for every owned province does not work in this scripted effect
	#Because of that this event workaround had to be made in order to update the religious cultures
	# country_event = {
		# id = passive_effects_events.10
	# }
}

on_harmonized_religion_estate_privileges_effect = {}

on_annexed_estate_privileges_effect = {
	if = {
		limit = { from = { NOT = { religion = root } } }
		add_country_modifier = { name = recently_annexed_other_religion_timer duration = 5475 hidden = yes }
	}
}

on_province_religion_converted_estate_privileges_effect = {}

on_province_culture_converted_estate_privilges_effect = {
	if = {
		limit = {
			owner = { has_estate_privilege = estate_gerunanin_disarmed_populance }
		}
		if = {
			limit = { culture_is_human = yes }
			add_province_modifier = { name = hob_gerunanin_disarmed_populace duration = -1 }
		}
		else = {
			remove_province_modifier = hob_gerunanin_disarmed_populace
		}
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_gerunanin_wuhyun_rights }
		}
		if = {
			limit = {
				culture_is_human = yes
				NOT = { culture_group = wuhyun }
			}
			add_province_modifier = { name = hob_gerunanin_disarmed_populace duration = -1 }
		}
		else = {
			remove_province_modifier = hob_gerunanin_disarmed_populace
		}
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_gerunanin_reduced_tribute_requirements }
		}
		if = {
			limit = { culture_is_human = yes }
			add_province_modifier = { name = hob_gerunanin_lightened_tax_burden duration =  -1 }
		}
		else = {
			remove_province_modifier = hob_gerunanin_lightened_tax_burden
		}
	}
}

on_province_owner_change_estate_privileges_effect = {
	if = {	#bertus mod
		limit = {
			has_province_modifier = estate_racial_taxation_mod
		}
		add_pop_modifier = {race = all class = racial_bonus amount = 25percent resource = tax onbase = base_tax}
	}
	#Anbennar
	if = {
		limit = {
			owner = { has_estate_privilege = estate_gerunanin_disarmed_populance }
		}
		if = {
			limit = { culture_is_human = yes }
			add_province_modifier = { name = hob_gerunanin_disarmed_populace duration = -1 }
		}
		else = {
			remove_province_modifier = hob_gerunanin_disarmed_populace
		}
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_gerunanin_wuhyun_rights }
		}
		if = {
			limit = {
				culture_is_human = yes
				NOT = { culture_group = wuhyun }
			}
			add_province_modifier = { name = hob_gerunanin_disarmed_populace duration = -1 }
		}
		else = {
			remove_province_modifier = hob_gerunanin_disarmed_populace
		}
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_gerunanin_reduced_tribute_requirements }
		}
		if = {
			limit = { culture_is_human = yes }
			add_province_modifier = { name = hob_gerunanin_lightened_tax_burden duration =  -1 }
		}
		else = {
			remove_province_modifier = hob_gerunanin_lightened_tax_burden
		}
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_dragon_command_land_rights }
			superregion = yanshen_superregion
		}
		add_province_modifier = { name = command_dragon_command_governance duration = -1 }
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_elephant_command_land_rights }
			superregion = south_haless_superregion
		}
		add_province_modifier = { name = command_elephant_command_governance duration = -1 }
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_tiger_command_land_rights }
			OR = {
				region = dhujat_region
				region = rakhadesh_region
				region = rahen_coast_region
			}
		}
		add_province_modifier = { name = command_tiger_command_governance duration = -1 }
	}
	if = {
		limit = {
			owner = { mission_completed = R62_life_under_the_sun }
			region = shamakhad_region
		}
		add_province_modifier = { name = command_governed_by_the_alliance duration = -1 }
	}
	if = {
		limit = {
			owner = { has_estate_privilege = artifice_invention_feiten_specialized_construction_arms }
			OR = {
				has_terrain = mountain
				has_terrain = highlands
				has_terrain = hills
			}
		}
		if = {
			limit = {
				Y20 = { trading_bonus = { trade_goods = naval_supplies value = yes } }
			}
			add_province_modifier = { name = feiten_specialized_construction_arms_mod_upgraded duration =  -1 }
		}
		else = {
			add_province_modifier = { name = feiten_specialized_construction_arms_mod duration =  -1 }
		}
	}
	if = {
		limit = {
			owner = { has_estate_privilege = estate_adventurers_contain_dangerous_artefacts }
			trade_goods = precursor_relics
		}
		add_province_modifier = { name = H33_containment_mod duration = -1 }
		owner = { change_estate_land_share = { estate = estate_adventurers share = 2.5 } }
	}
	if = { # Verkal Ozovar
		limit = {
			owner = { overlord = { has_estate_privilege = estate_mages_grand_rune_krakdhum } }
			OR = {
				trade_goods = coal
				trade_goods = iron
				trade_goods = copper
				trade_goods = mithril
			}
		}
		add_province_modifier = { name = Y63_grand_rune_krakdhum duration = -1 }
	}
	if = { # Verkal Ozovar
		limit = {
			owner = { overlord = { has_estate_privilege = estate_mages_grand_rune_haln } }
			has_terrain = farmlands
		}
		add_province_modifier = { name = Y63_grand_rune_haln duration = -1 }
	}
}

on_province_tax_building_built_estate_privileges_effect = {}
on_province_tax_building_destroyed_estate_privileges_effect = {}

on_trade_good_changed_estate_privileges_effect = {
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_monopoly_of_textiles_mod
			NOT = { trade_goods = silk }
			NOT = { trade_goods = cloth }
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_textiles_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_monopoly_of_textiles }
			NOT = { has_province_modifier = estate_middlecastes_monopoly_of_textiles_mod }
			OR = {
				trade_goods = silk
				trade_goods = cloth
			}
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_textiles_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_monopoly_of_dyes_mod
			NOT = { trade_goods = dyes }
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_dyes_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_monopoly_of_dyes }
			NOT = { has_province_modifier = estate_middlecastes_monopoly_of_dyes_mod }
			trade_goods = dyes
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_dyes_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_indigo_guild_mod
			NOT = { trade_goods = dyes }
		}
		remove_province_modifier = estate_middlecastes_indigo_guild_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_indigo_guild }
			NOT = { has_province_modifier = estate_middlecastes_indigo_guild_mod }
			trade_goods = dyes
		}
		remove_province_modifier = estate_middlecastes_indigo_guild_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_monopoly_of_glass_mod
			NOT = { trade_goods = glass }
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_glass_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_monopoly_of_glass }
			NOT = { has_province_modifier = estate_middlecastes_monopoly_of_glass_mod }
			trade_goods = glass
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_glass_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_monopoly_of_paper_mod
			NOT = { trade_goods = paper }
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_paper_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_monopoly_of_paper }
			NOT = { has_province_modifier = estate_middlecastes_monopoly_of_paper_mod }
			trade_goods = paper
		}
		remove_province_modifier = estate_middlecastes_monopoly_of_paper_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_lowercastes_monopoly_of_incense_mod
			NOT = { trade_goods = incense }
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_incense_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_lowercastes_monopoly_of_incense }
			NOT = { has_province_modifier = estate_lowercastes_monopoly_of_incense_mod }
			trade_goods = incense
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_incense_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_lowercastes_monopoly_of_wool_mod
			NOT = { trade_goods = wool }
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_wool_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_lowercastes_monopoly_of_wool }
			NOT = { has_province_modifier = estate_lowercastes_monopoly_of_wool_mod }
			trade_goods = wool
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_wool_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_lowercastes_monopoly_of_wine_mod
			NOT = { trade_goods = wine }
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_wine_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_lowercastes_monopoly_of_wine }
			NOT = { has_province_modifier = estate_lowercastes_monopoly_of_wine_mod }
			trade_goods = wine
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_wine_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_lowercastes_monopoly_of_slaves_mod
			NOT = { trade_goods = slaves }
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_slaves_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_lowercastes_monopoly_of_slaves }
			NOT = { has_province_modifier = estate_lowercastes_monopoly_of_slaves_mod }
			trade_goods = slaves
		}
		remove_province_modifier = estate_lowercastes_monopoly_of_slaves_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_uppercastes_monopoly_of_metals_mod
			NOT = { trade_goods = copper }
			NOT = { trade_goods = iron }
		}
		remove_province_modifier = estate_uppercastes_monopoly_of_metals_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_uppercastes_monopoly_of_metals }
			NOT = { has_province_modifier = estate_uppercastes_monopoly_of_metals_mod }
			OR = {
				trade_goods = copper
				trade_goods = iron
			}
		}
		remove_province_modifier = estate_uppercastes_monopoly_of_metals_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_uppercastes_monopoly_of_livestock_mod
			NOT = { trade_goods = livestock }
		}
		remove_province_modifier = estate_uppercastes_monopoly_of_livestock_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_uppercastes_monopoly_of_livestock }
			NOT = { has_province_modifier = estate_uppercastes_monopoly_of_livestock_mod }
			trade_goods = livestock
		}
		remove_province_modifier = estate_uppercastes_monopoly_of_livestock_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_uppercastes_monopoly_of_gems_mod
			NOT = { trade_goods = gems }
		}
		remove_province_modifier = estate_uppercastes_monopoly_of_gems_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_uppercastes_monopoly_of_gems }
			NOT = { has_province_modifier = estate_uppercastes_monopoly_of_gems_mod }
			trade_goods = gems
		}
		remove_province_modifier = estate_uppercastes_monopoly_of_gems_mod
	}
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_white_guild_independent_operations_mod
			NOT = { trade_goods = ivory }
			NOT = { trade_goods = chinaware }
		}
		remove_province_modifier = estate_middlecastes_white_guild_independent_operations_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_white_guild_independent_operations }
			NOT = { has_province_modifier = estate_middlecastes_white_guild_independent_operations_mod }
			OR = {
				trade_goods = gold
				trade_goods = chinaware
			}
		}
		add_province_modifier = { name = estate_middlecastes_white_guild_independent_operations_mod duration = -1 }
	}
	if = {
		limit = {
			has_province_modifier = estate_middlecastes_white_guild_state_control_mod
			NOT = { trade_goods = ivory }
			NOT = { trade_goods = chinaware }
		}
		remove_province_modifier = estate_middlecastes_white_guild_state_control_mod
	}
	else_if = {
		limit = {
			from = { has_estate_privilege = estate_middlecastes_white_guild_state_control }
			NOT = { has_province_modifier = estate_middlecastes_white_guild_state_control_mod }
			OR = {
				trade_goods = gold
				trade_goods = chinaware
			}
		}
		add_province_modifier = { name = estate_middlecastes_white_guild_state_control_mod duration = -1 }
	}
	if = {
		limit = {
			has_province_modifier = H33_containment_mod
			NOT = { trade_goods = precursor_relics }
		}
		remove_province_modifier = H33_containment_mod
	}
	else_if = {
		limit = {
			FROM = { has_estate_privilege = estate_adventurers_contain_dangerous_artefacts }
			NOT = { has_province_modifier = H33_containment_mod }
			trade_goods = precursor_relics
		}
		add_province_modifier = { name = H33_containment_mod duration = -1 }
		owner = { change_estate_land_share = { estate = estate_adventurers share = 2.5 } }
	}
}

on_loan_repaid_estate_privileges_effect = {
	#Anbennar
	if = {
		limit = {
			has_estate_privilege = estate_middlecastes_indebted_to_middlecastes
			has_estate_loan = no
		}
		remove_estate_privilege = estate_middlecastes_indebted_to_middlecastes
	}
	if = {
		limit = {
			has_estate_privilege = estate_kabiurgarko_indebted_to_golden
			has_estate_loan = no
		}
		remove_estate_privilege = estate_kabiurgarko_indebted_to_golden
	}
	if = {
		limit = {
			has_estate_privilege = estate_gerunanin_draw_on_the_markets
			has_estate_loan = no
		}
		remove_estate_privilege = estate_gerunanin_draw_on_the_markets
	}
	if = {
		limit = {
			has_estate_privilege = estate_dwarven_loans
			has_estate_loan = no
		}
		remove_estate_privilege = estate_dwarven_loans
	}
	if = {
		limit = {
			has_estate_privilege = estate_halfling_loans
			has_estate_loan = no
		}
		remove_estate_privilege = estate_halfling_loans
	}
	if = {
		limit = {
			has_estate_privilege = estate_gnomish_loans
			has_estate_loan = no
		}
		remove_estate_privilege = estate_gnomish_loans
	}
}

on_bi_yearly_pulse_estate_privileges_effect = {
	if = {
		limit = {
			has_estate_privilege = estate_uppercastes_supremacy_over_crown
			NOT = { has_any_active_estate_agenda = yes }
		}
		country_event = { id = estate_privileges_and_agendas_events.3 }
	}
}

on_culture_promoted_estate_privileges_effect = {}
on_culture_demoted_estate_privileges_effect = {}

on_primary_culture_changed_privileges_effect = {
}

reapply_estate_privilege = {
	# privilege: The privilege we want to reapply
	if = {
		limit = {  can_revoke_estate_privilege = $privilege$ }
		hidden_effect = { remove_estate_privilege = $privilege$ }
		set_estate_privilege = $privilege$
	}
}
scaled_estate_church_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_church }
}
scaled_estate_church_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_church }
}
scaled_estate_nobles_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_nobles }
}
scaled_estate_nobles_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_nobles }
}
scaled_estate_burghers_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_burghers }
}
scaled_estate_burghers_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_burghers }
}
scaled_estate_rajput_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_rajput }
}
scaled_estate_rajput_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_rajput }
}
scaled_estate_maratha_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_maratha }
}
scaled_estate_maratha_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_maratha }
}
scaled_estate_brahmins_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_brahmins }
}
scaled_estate_brahmins_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_brahmins }
}
scaled_estate_vaisyas_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_vaisyas }
}
scaled_estate_vaisyas_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_vaisyas }
}
scaled_estate_dhimmi_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_dhimmi }
}
scaled_estate_dhimmi_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_dhimmi }
}
scaled_estate_cossacks_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_cossacks }
}
scaled_estate_cossacks = {
	scaled_estate_land_share_reduce_effect = { estate = estate_cossacks }
}
scaled_estate_jains_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_jains }
}
scaled_estate_jains = {
	scaled_estate_land_share_reduce_effect = { estate = estate_jains }
}
scaled_estate_nomadic_tribes_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_nomadic_tribes }
}
scaled_estate_nomadic_tribes = {
	scaled_estate_land_share_reduce_effect = { estate = estate_nomadic_tribes }
}
scaled_estate_janissaries_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_janissaries }
}
scaled_estate_janissaries = {
	scaled_estate_land_share_reduce_effect = { estate = estate_janissaries }
}
scaled_estate_eunuchs_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_eunuchs }
}
scaled_estate_eunuchs = {
	scaled_estate_land_share_reduce_effect = { estate = estate_eunuchs }
}
#Anbennar
scaled_estate_raj_ministries_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_raj_ministries }
}
scaled_estate_uppercastes_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_uppercastes }
}
scaled_estate_middlecastes_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_middlecastes }
}
scaled_estate_lowercastes_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_lowercastes }
}
scaled_estate_eunuchs_anb_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_eunuchs_anb }
}
scaled_estate_monstrous_tribes_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_monstrous_tribes }
}
scaled_estate_mages_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_mages }
}
scaled_estate_adventurers_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_adventurers }
}
scaled_estate_artificers_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_artificers }
}
scaled_estate_daulophs_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_daulophs }
}
scaled_estate_vampires_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_vampires }
}
scaled_estate_castonath_patricians_land_share_effect = {
	scaled_estate_land_share_add_effect = { estate = estate_castonath_patricians }
}
scaled_estate_raj_ministries_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_raj_ministries }
}
scaled_estate_uppercastes_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_uppercastes }
}
scaled_estate_middlecastes_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_middlecastes }
}
scaled_estate_lowercastes_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_lowercastes }
}
scaled_estate_eunuchs_anb_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_eunuchs_anb }
}
scaled_estate_monstrous_tribes_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_monstrous_tribes }
}
scaled_estate_mages_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_mages }
}
scaled_estate_adventurers_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_adventurers }
}
scaled_estate_artificers_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_artificers }
}
scaled_estate_daulophs_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_daulophs }
}
scaled_estate_vampires_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_vampires }
}
scaled_estate_castonath_patricians_negative_land_share_effect = {
	scaled_estate_land_share_reduce_effect = { estate = estate_castonath_patricians }
}

#Based on those above, but you can choose which estate you use
#example of usage: scaled_estate_land_share_add_effect = { estate = estate_nobles }
scaled_estate_land_share_add_effect = {
	if = {
		limit = {
			NOT = { total_development = 50 }
		}
		give_estate_land_share_large = { estate = $estate$ }
	}
	else_if = {
		limit = {
			total_development = 50
			NOT = { total_development = 100 }
		}
		give_estate_land_share_medium = { estate = $estate$ }
	}
	else_if = {
		limit = { total_development = 100 }
		give_estate_land_share_small = { estate = $estate$ }
	}
}

#example of usage: scaled_estate_land_share_reduce_effect = { estate = estate_nobles }
scaled_estate_land_share_reduce_effect = {
	if = {
		limit = {
			NOT = { total_development = 50 }
		}
		take_estate_land_share_large = { estate = $estate$ }
	}
	else_if = {
		limit = {
			total_development = 50
			NOT = { total_development = 100 }
		}
		give_estate_land_share_medium = { estate = $estate$ }
	}
	else_if = {
		limit = { total_development = 100 }
		give_estate_land_share_small = { estate = $estate$ }
	}
}

# Expects country scope
seize_land_effect = {
	hidden_effect = {
		set_variable = {
			which = seize_land_effect_variable
			value = $scale$
		}
		while = {
			limit = {
				check_variable = { which = seize_land_effect_variable value = 1 }
			}
			change_variable = { which = seize_land_effect_variable value =  -1 }
			if = {
				limit = {
					any_owned_province = {
						OR = {
							is_in_capital_area = yes
							is_state_core = root
						}
						is_capital = no
						NOT = {
							area_for_scope_province = {
								owned_by = root
								has_province_flag = seize_land_spawn_unrest_and_rebels
							}
						}
						area_for_scope_province = {
							any_neighbor_province = {
								owned_by = root
								has_province_flag = seize_land_spawn_unrest_and_rebels
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							is_state_core = root
						}
						is_capital = no
						NOT = {
							area_for_scope_province = {
								owned_by = root
								has_province_flag = seize_land_spawn_unrest_and_rebels
							}
						}
						area_for_scope_province = {
							any_neighbor_province = {
								owned_by = root
								has_province_flag = seize_land_spawn_unrest_and_rebels
							}
						}
						highest_supply_limit_in_area = yes
					}
					spawn_rebels_from_unhappy_estate = { size = 2 }
					area = {
						limit = { owned_by = ROOT }
						set_province_flag = seize_land_spawn_unrest_and_rebels
						if = {
							limit = {
								NOT = { has_province_flag = has_estate_unrest_flag }
							}
							add_named_unrest = { name = estate_land_seized value = 10 }
							set_province_flag = has_estate_unrest_flag
						}
					}
				}
			}
			else = {
				random_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							is_state_core = root
						}
						NOT = {
							area_for_scope_province = {
								owned_by = root
								has_province_flag = seize_land_spawn_unrest_and_rebels
							}
						}
						highest_supply_limit_in_area = yes
					}
					spawn_rebels_from_unhappy_estate = { size = 2 }
					area = {
						limit = { owned_by = ROOT }
						set_province_flag = seize_land_spawn_unrest_and_rebels
						if = {
							limit = { NOT = { has_province_flag = has_estate_unrest_flag } }
							add_named_unrest = { name = estate_land_seized value = 10 }
							set_province_flag = has_estate_unrest_flag
						}
					}
				}
			}
		}
		every_owned_province = {
			limit = { has_province_flag = seize_land_spawn_unrest_and_rebels }
			clr_province_flag = seize_land_spawn_unrest_and_rebels
		}
	}
}

spawn_rebels_from_unhappy_estate = {
	if = {
		limit = {
			owner = { 
				NOT = { disabled_rebels_from_seized_land_for_estate = { estate = all } } 
				NOT = { has_government_attribute = seizing_land_no_rebels }
			}
		}
		random_list = {
						# Anbennar
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_raj_ministries } }
						has_estate = estate_raj_ministries
						NOT = { estate_loyalty = { estate = estate_raj_ministries loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_raj_ministries
					as_if_faction = yes
				}
			}
			# Anbennar
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_raj_ministries } }
						has_estate = estate_raj_ministries
						NOT = { estate_loyalty = { estate = estate_raj_ministries loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_raj_ministries
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_uppercastes } }
						has_estate = estate_uppercastes
						NOT = { estate_loyalty = { estate = estate_uppercastes loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_uppercastes
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_middlecastes } }
						has_estate = estate_middlecastes
						NOT = { estate_loyalty = {estate = estate_middlecastes loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_middlecastes
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_lowercastes } }
						has_estate = estate_lowercastes
						NOT = { estate_loyalty = { estate = estate_lowercastes loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_lowercastes
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_monstrous_tribes } }
						has_estate = estate_monstrous_tribes
						NOT = { estate_loyalty = { estate = estate_monstrous_tribes loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_monstrous_tribes
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_mages } }
						has_estate = estate_mages
						NOT = { estate_loyalty = { estate = estate_mages loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_mages
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_adventurers } }
						has_estate = estate_adventurers
						NOT = { estate_loyalty = { estate = estate_adventurers loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_adventurers
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_artificers } }
						has_estate = estate_artificers
						NOT = { estate_loyalty = { estate = estate_artificers loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_artificers
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_daulophs } }
						has_estate = estate_daulophs
						NOT = { estate_loyalty = { estate = estate_daulophs loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_daulophs
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_eunuchs_anb } }
						has_estate = estate_eunuchs_anb
						NOT = { estate_loyalty = { estate = estate_eunuchs_anb loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = noble_rebels
					size = $size$
					estate = estate_eunuchs_anb
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_vampires } }
						has_estate = estate_vampires
						NOT = { estate_loyalty = { estate = estate_vampires loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_vampires
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_castonath_patricians } }
						has_estate = estate_castonath_patricians
						NOT = { estate_loyalty = { estate = estate_castonath_patricians loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_castonath_patricians
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_shinukhorchi } }
						has_estate = estate_shinukhorchi
						NOT = { estate_loyalty = { estate = estate_shinukhorchi loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_shinukhorchi
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_chumijemoya } }
						has_estate = estate_chumijemoya
						NOT = { estate_loyalty = { estate = estate_chumijemoya loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_chumijemoya
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_ajgriijarul } }
						has_estate = estate_ajgriijarul
						NOT = { estate_loyalty = { estate = estate_ajgriijarul loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_ajgriijarul
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_kabiurgarko } }
						has_estate = estate_kabiurgarko
						NOT = { estate_loyalty = { estate = estate_kabiurgarko loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_kabiurgarko
					as_if_faction = yes
				}
			}
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_khelorvalshi } }
						has_estate = estate_khelorvalshi
						NOT = { estate_loyalty = { estate = estate_khelorvalshi loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_khelorvalshi
					as_if_faction = yes
				}
				}
			#Wolf Command
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_wolf_command } }
						has_estate = estate_wolf_command
						NOT = { estate_loyalty = { estate = estate_wolf_command loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_wolf_command
					as_if_faction = yes
				}
			}
			#Boar Command
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_boar_command } }
						has_estate = estate_boar_command
						NOT = { estate_loyalty = { estate = estate_boar_command loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_boar_command
					as_if_faction = yes
				}
			}
			#Lion Command
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_lion_command } }
						has_estate = estate_lion_command
						NOT = { estate_loyalty = { estate = estate_lion_command loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_lion_command
					as_if_faction = yes
				}
			}
			#Dragon Command
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_dragon_command } }
						has_estate = estate_dragon_command
						NOT = { estate_loyalty = { estate = estate_dragon_command loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_dragon_command
					as_if_faction = yes
				}
			}
			#Elephant Command
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_elephant_command } }
						has_estate = estate_elephant_command
						NOT = { estate_loyalty = { estate = estate_elephant_command loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_elephant_command
					as_if_faction = yes
				}
			}
			#Tiger Command
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_tiger_command } }
						has_estate = estate_tiger_command
						NOT = { estate_loyalty = { estate = estate_tiger_command loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_tiger_command
					as_if_faction = yes
				}
			}
			#Gerunanin
			1 = {
				trigger = {
					owner = {
						NOT = { disabled_rebels_from_seized_land_for_estate = { estate = estate_gerunanin } }
						has_estate = estate_gerunanin
						NOT = { estate_loyalty = { estate = estate_gerunanin loyalty = 30 } }
					}
				}
				spawn_rebels = {
					type = particularist_rebels #Any better rebels?
					size = $size$
					estate = estate_gerunanin
					as_if_faction = yes
				}
			}
		}
	}
}

pick_random_estate_if_present = {
	if = {
		limit = {
			has_estate = estate_human
			any_owned_province = { has_any_human_pop_trigger = yes }
			NOT = { has_country_flag = estate_human_$flag$ }
		}
		set_country_flag = estate_human_$flag$
		[[estate_action]
			$estate_action$ = estate_human
		]
	}
	if = {
		limit = {
			has_estate = estate_elven
			any_owned_province = { has_any_elven_pop_trigger = yes }
			NOT = { has_country_flag = estate_elven_$flag$ }
		}
		set_country_flag = estate_elven_$flag$
		[[estate_action]
			$estate_action$ = estate_elven
		]
	}
	if = {
		limit = {
			has_estate = estate_dwarven
			any_owned_province = { has_any_dwarven_pop_trigger = yes }
			NOT = { has_country_flag = estate_dwarven_$flag$ }
		}
		set_country_flag = estate_dwarven_$flag$
		[[estate_action]
			$estate_action$ = estate_dwarven
		]
	}
	if = {
		limit = {
			has_estate = estate_halfling
			any_owned_province = { has_any_halfling_pop_trigger = yes }
			NOT = { has_country_flag = estate_halfling_$flag$ }
		}
		set_country_flag = estate_halfling_$flag$
		[[estate_action]
			$estate_action$ = estate_halfling
		]
	}
	if = {
		limit = {
			has_estate = estate_gnomish
			any_owned_province = { has_any_gnomish_pop_trigger = yes }
			NOT = { has_country_flag = estate_gnomish_$flag$ }
		}
		set_country_flag = estate_gnomish_$flag$
		[[estate_action]
			$estate_action$ = estate_gnomish
		]
	}
	if = {
		limit = {
			has_estate = estate_harimari
			any_owned_province = { has_any_harimari_pop_trigger = yes }
			NOT = { has_country_flag = estate_harimari_$flag$ }
		}
		set_country_flag = estate_harimari_$flag$
		[[estate_action]
			$estate_action$ = estate_harimari
		]
	}
	if = {
		limit = {
			has_estate = estate_gnollish
			any_owned_province = { has_any_gnollish_pop_trigger = yes }
			NOT = { has_country_flag = estate_gnollish_$flag$ }
		}
		set_country_flag = estate_gnollish_$flag$
		[[estate_action]
			$estate_action$ = estate_gnollish
		]
	}
	if = {
		limit = {
			has_estate = estate_ruinborn
			any_owned_province = { has_any_ruinborn_pop_trigger = yes }
			NOT = { has_country_flag = estate_ruinborn_$flag$ }
		}
		set_country_flag = estate_ruinborn_$flag$
		[[estate_action]
			$estate_action$ = estate_ruinborn
		]
	}
	if = {
		limit = {
			has_estate = estate_orcish
			any_owned_province = { has_any_orcish_pop_trigger = yes }
			NOT = { has_country_flag = estate_orcish_$flag$ }
		}
		set_country_flag = estate_orcish_$flag$
		[[estate_action]
			$estate_action$ = estate_orcish
		]
	}
	if = {
		limit = {
			has_estate = estate_goblin
			any_owned_province = { has_any_goblin_pop_trigger = yes }
			NOT = { has_country_flag = estate_goblin_$flag$ }
		}
		set_country_flag = estate_goblin_$flag$
		[[estate_action]
			$estate_action$ = estate_goblin
		]
	}
	if = {
		limit = {
			has_estate = estate_ogre
			any_owned_province = { has_any_ogre_pop_trigger = yes }
			NOT = { has_country_flag = estate_ogre_$flag$ }
		}
		set_country_flag = estate_ogre_$flag$
		[[estate_action]
			$estate_action$ = estate_ogre
		]
	}
	if = {
		limit = {
			has_estate = estate_centaur
			any_owned_province = { has_any_centaur_pop_trigger = yes }
			NOT = { has_country_flag = estate_centaur_$flag$ }
		}
		set_country_flag = estate_centaur_$flag$
		[[estate_action]
			$estate_action$ = estate_centaur
		]
	}
	if = {
		limit = {
			has_estate = estate_troll
			any_owned_province = { has_any_troll_pop_trigger = yes }
			NOT = { has_country_flag = estate_troll_$flag$ }
		}
		set_country_flag = estate_troll_$flag$
		[[estate_action]
			$estate_action$ = estate_troll
		]
	}
	if = {
		limit = {
			has_estate = estate_harpy
			any_owned_province = { has_any_harpy_pop_trigger = yes }
			NOT = { has_country_flag = estate_harpy_$flag$ }
		}
		set_country_flag = estate_harpy_$flag$
		[[estate_action]
			$estate_action$ = estate_harpy
		]
	}
	if = {
		limit = {
			has_estate = estate_half_orcish
			any_owned_province = { has_any_half_orcish_pop_trigger = yes }
			NOT = { has_country_flag = estate_half_orcish_$flag$ }
		}
		set_country_flag = estate_half_orcish_$flag$
		[[estate_action]
			$estate_action$ = estate_half_orcish
		]
	}
	if = {
		limit = {
			has_estate = estate_half_elven
			any_owned_province = { has_any_half_elven_pop_trigger = yes }
			NOT = { has_country_flag = estate_half_elven_$flag$ }
		}
		set_country_flag = estate_half_elven_$flag$
		[[estate_action]
			$estate_action$ = estate_half_elven
		]
	}
	if = {
		limit = {
			has_estate = estate_hobgoblin
			any_owned_province = { has_any_hobgoblin_pop_trigger = yes }
			NOT = { has_country_flag = estate_hobgoblin_$flag$ }
		}
		set_country_flag = estate_hobgoblin_$flag$
		[[estate_action]
			$estate_action$ = estate_hobgoblin
		]
	}
	if = {
		limit = {
			has_estate = estate_kobold
			any_owned_province = { has_any_kobold_pop_trigger = yes }
			NOT = { has_country_flag = estate_kobold_$flag$ }
		}
		set_country_flag = estate_kobold_$flag$
		[[estate_action]
			$estate_action$ = estate_kobold
		]
	}
	if = {
		limit = {
			has_estate = estate_lizardfolk
			any_owned_province = { has_any_lizardfolk_pop_trigger = yes }
			NOT = { has_country_flag = estate_lizardfolk_$flag$ }
		}
		set_country_flag = estate_lizardfolk_$flag$
		[[estate_action]
			$estate_action$ = estate_lizardfolk
		]
	}
}

#1.35
seize_land_estate_effect = {
	take_estate_land_share_massive = { estate = $estate$ }
	if = {
		limit = { has_government_attribute = seizing_land_loyalty }
		add_estate_loyalty = { estate = $estate$ loyalty = -15 short = yes }
	}
	else = {
		add_estate_loyalty = { estate = $estate$ loyalty = -20 short = yes }
	}
	if = {
		limit = { NOT = { has_government_attribute = seizing_land_no_rebels } }
		custom_tooltip = seize_land_rebels_tt
	}
	if = {
		limit = {
			NOT = { estate_loyalty = { estate = $estate$ loyalty = 50 } }
			estate_loyalty = { estate = $estate$ loyalty = 30 }
		}
	}
	else_if = { 
		limit = {
			NOT = { estate_loyalty = { estate = $estate$ loyalty = 30 } }
			estate_influence = { estate = $estate$ influence = 1 }				
		}
		spawn_rebels_seize_land_switch = yes
	}
}

# estate = what estate
# Will give the estate 1% land
give_estate_land_share_small = {
	change_estate_land_share = { estate = $estate$ share = 1 }
}

# estate = what estate
# Will give the estate 2% land
give_estate_land_share_medium = {
	change_estate_land_share = { estate = $estate$ share = 2 }
}

# estate = what estate
# Will give the estate 3% land
give_estate_land_share_large = {
	change_estate_land_share = { estate = $estate$ share = 3 }
}

# estate = what estate
# Will give the estate 5% land
give_estate_land_share_massive = {
	change_estate_land_share = { estate = $estate$ share = 5 }
}

# estate = what estate
# Will give the estate 10% land
give_estate_land_share_gigantic = {
	change_estate_land_share = { estate = $estate$ share = 10 }
}

give_estate_land_share_init = {
	change_estate_land_share = { estate = $estate$ share = 20 }
}

# estate = what estate
# Will take the 1% land from estate
take_estate_land_share_small = {
	change_estate_land_share = { estate = $estate$ share = -1 }
}

# estate = what estate
# Will take away 2% land from estate
take_estate_land_share_medium = {
	change_estate_land_share = { estate = $estate$ share = -2 }
}

# estate = what estate
# Will take the 3% land from estate
take_estate_land_share_large = {
	change_estate_land_share = { estate = $estate$ share = -3 }
}

# estate = what estate
# Will take the 5% land from estate
take_estate_land_share_massive = {
	change_estate_land_share = { estate = $estate$ share = -5 }
}

# estate = what estate
# Will take the 10% land from estate
take_estate_land_share_gigantic = {
	change_estate_land_share = { estate = $estate$ share = -10 }
}

# Used to apply estate monopoly modifier based on the estate privilege name
# privilege = name of privilege
apply_estate_monopoly_modifier = {
	if = {
		limit = { owner = { has_estate_privilege = $privilege$ } }
		add_province_modifier = { name = $privilege$_mod duration = -1 }
	}
}

remove_estate_monopoly_modifier = {
	remove_province_modifier = $privilege$_mod
}

re_add_loyalty_from_seized_land = {}

spawn_rebels_seize_land_switch = {
	trigger_switch = {
		on_trigger = num_of_owned_areas
		1000 = { custom_tooltip = estate_seize_land_interaction_tooltip_1000 seize_land_effect = { scale = 101 } }
		990 = { custom_tooltip = estate_seize_land_interaction_tooltip_990 seize_land_effect = { scale = 100 } }
		980 = { custom_tooltip = estate_seize_land_interaction_tooltip_980 seize_land_effect = { scale = 99 } }
		970 = { custom_tooltip = estate_seize_land_interaction_tooltip_970 seize_land_effect = { scale = 98 } }
		960 = { custom_tooltip = estate_seize_land_interaction_tooltip_960 seize_land_effect = { scale = 97 } }
		950 = { custom_tooltip = estate_seize_land_interaction_tooltip_950 seize_land_effect = { scale = 96 } }
		940 = { custom_tooltip = estate_seize_land_interaction_tooltip_940 seize_land_effect = { scale = 95 } }
		930 = { custom_tooltip = estate_seize_land_interaction_tooltip_930 seize_land_effect = { scale = 94 } }
		920 = { custom_tooltip = estate_seize_land_interaction_tooltip_920 seize_land_effect = { scale = 93 } }
		910 = { custom_tooltip = estate_seize_land_interaction_tooltip_910 seize_land_effect = { scale = 92 } }
		900 = { custom_tooltip = estate_seize_land_interaction_tooltip_900 seize_land_effect = { scale = 91 } }
		890 = { custom_tooltip = estate_seize_land_interaction_tooltip_890 seize_land_effect = { scale = 90 } }
		880 = { custom_tooltip = estate_seize_land_interaction_tooltip_880 seize_land_effect = { scale = 89 } }
		870 = { custom_tooltip = estate_seize_land_interaction_tooltip_870 seize_land_effect = { scale = 88 } }
		860 = { custom_tooltip = estate_seize_land_interaction_tooltip_860 seize_land_effect = { scale = 87 } }
		850 = { custom_tooltip = estate_seize_land_interaction_tooltip_850 seize_land_effect = { scale = 86 } }
		840 = { custom_tooltip = estate_seize_land_interaction_tooltip_840 seize_land_effect = { scale = 85 } }
		830 = { custom_tooltip = estate_seize_land_interaction_tooltip_830 seize_land_effect = { scale = 84 } }
		820 = { custom_tooltip = estate_seize_land_interaction_tooltip_820 seize_land_effect = { scale = 83 } }
		810 = { custom_tooltip = estate_seize_land_interaction_tooltip_810 seize_land_effect = { scale = 82 } }
		800 = { custom_tooltip = estate_seize_land_interaction_tooltip_800 seize_land_effect = { scale = 81 } }
		790 = { custom_tooltip = estate_seize_land_interaction_tooltip_790 seize_land_effect = { scale = 80 } }
		780 = { custom_tooltip = estate_seize_land_interaction_tooltip_780 seize_land_effect = { scale = 79 } }
		770 = { custom_tooltip = estate_seize_land_interaction_tooltip_770 seize_land_effect = { scale = 78 } }
		760 = { custom_tooltip = estate_seize_land_interaction_tooltip_760 seize_land_effect = { scale = 77 } }
		750 = { custom_tooltip = estate_seize_land_interaction_tooltip_750 seize_land_effect = { scale = 76 } }
		740 = { custom_tooltip = estate_seize_land_interaction_tooltip_740 seize_land_effect = { scale = 75 } }
		730 = { custom_tooltip = estate_seize_land_interaction_tooltip_730 seize_land_effect = { scale = 74 } }
		720 = { custom_tooltip = estate_seize_land_interaction_tooltip_720 seize_land_effect = { scale = 73 } }
		710 = { custom_tooltip = estate_seize_land_interaction_tooltip_710 seize_land_effect = { scale = 72 } }
		700 = { custom_tooltip = estate_seize_land_interaction_tooltip_700 seize_land_effect = { scale = 71 } }
		690 = { custom_tooltip = estate_seize_land_interaction_tooltip_690 seize_land_effect = { scale = 70 } }
		680 = { custom_tooltip = estate_seize_land_interaction_tooltip_680 seize_land_effect = { scale = 69 } }
		670 = { custom_tooltip = estate_seize_land_interaction_tooltip_670 seize_land_effect = { scale = 68 } }
		660 = { custom_tooltip = estate_seize_land_interaction_tooltip_660 seize_land_effect = { scale = 67 } }
		650 = { custom_tooltip = estate_seize_land_interaction_tooltip_650 seize_land_effect = { scale = 66 } }
		640 = { custom_tooltip = estate_seize_land_interaction_tooltip_640 seize_land_effect = { scale = 65 } }
		630 = { custom_tooltip = estate_seize_land_interaction_tooltip_630 seize_land_effect = { scale = 64 } }
		620 = { custom_tooltip = estate_seize_land_interaction_tooltip_620 seize_land_effect = { scale = 63 } }
		610 = { custom_tooltip = estate_seize_land_interaction_tooltip_610 seize_land_effect = { scale = 62 } }
		600 = { custom_tooltip = estate_seize_land_interaction_tooltip_600 seize_land_effect = { scale = 61 } }
		590 = { custom_tooltip = estate_seize_land_interaction_tooltip_590 seize_land_effect = { scale = 60 } }
		580 = { custom_tooltip = estate_seize_land_interaction_tooltip_580 seize_land_effect = { scale = 59 } }
		570 = { custom_tooltip = estate_seize_land_interaction_tooltip_570 seize_land_effect = { scale = 58 } }
		560 = { custom_tooltip = estate_seize_land_interaction_tooltip_560 seize_land_effect = { scale = 57 } }
		550 = { custom_tooltip = estate_seize_land_interaction_tooltip_550 seize_land_effect = { scale = 56 } }
		540 = { custom_tooltip = estate_seize_land_interaction_tooltip_540 seize_land_effect = { scale = 55 } }
		530 = { custom_tooltip = estate_seize_land_interaction_tooltip_530 seize_land_effect = { scale = 54 } }
		520 = { custom_tooltip = estate_seize_land_interaction_tooltip_520 seize_land_effect = { scale = 53 } }
		510 = { custom_tooltip = estate_seize_land_interaction_tooltip_510 seize_land_effect = { scale = 52 } }
		500 = { custom_tooltip = estate_seize_land_interaction_tooltip_500 seize_land_effect = { scale = 51 } }
		490 = { custom_tooltip = estate_seize_land_interaction_tooltip_490 seize_land_effect = { scale = 50 } }
		480 = { custom_tooltip = estate_seize_land_interaction_tooltip_480 seize_land_effect = { scale = 49 } }
		470 = { custom_tooltip = estate_seize_land_interaction_tooltip_470 seize_land_effect = { scale = 48 } }
		460 = { custom_tooltip = estate_seize_land_interaction_tooltip_460 seize_land_effect = { scale = 47 } }
		450 = { custom_tooltip = estate_seize_land_interaction_tooltip_450 seize_land_effect = { scale = 46 } }
		440 = { custom_tooltip = estate_seize_land_interaction_tooltip_440 seize_land_effect = { scale = 45 } }
		430 = { custom_tooltip = estate_seize_land_interaction_tooltip_430 seize_land_effect = { scale = 44 } }
		420 = { custom_tooltip = estate_seize_land_interaction_tooltip_420 seize_land_effect = { scale = 43 } }
		410 = { custom_tooltip = estate_seize_land_interaction_tooltip_410 seize_land_effect = { scale = 42 } }
		400 = { custom_tooltip = estate_seize_land_interaction_tooltip_400 seize_land_effect = { scale = 41 } }
		390 = { custom_tooltip = estate_seize_land_interaction_tooltip_390 seize_land_effect = { scale = 40 } }
		380 = { custom_tooltip = estate_seize_land_interaction_tooltip_380 seize_land_effect = { scale = 39 } }
		370 = { custom_tooltip = estate_seize_land_interaction_tooltip_370 seize_land_effect = { scale = 38 } }
		360 = { custom_tooltip = estate_seize_land_interaction_tooltip_360 seize_land_effect = { scale = 37 } }
		350 = { custom_tooltip = estate_seize_land_interaction_tooltip_350 seize_land_effect = { scale = 36 } }
		340 = { custom_tooltip = estate_seize_land_interaction_tooltip_340 seize_land_effect = { scale = 35 } }
		330 = { custom_tooltip = estate_seize_land_interaction_tooltip_330 seize_land_effect = { scale = 34 } }
		320 = { custom_tooltip = estate_seize_land_interaction_tooltip_320 seize_land_effect = { scale = 33 } }
		310 = { custom_tooltip = estate_seize_land_interaction_tooltip_310 seize_land_effect = { scale = 32 } }
		300 = { custom_tooltip = estate_seize_land_interaction_tooltip_300 seize_land_effect = { scale = 31 } }
		290 = { custom_tooltip = estate_seize_land_interaction_tooltip_290 seize_land_effect = { scale = 30 } }
		280 = { custom_tooltip = estate_seize_land_interaction_tooltip_280 seize_land_effect = { scale = 29 } }
		270 = { custom_tooltip = estate_seize_land_interaction_tooltip_270 seize_land_effect = { scale = 28 } }
		260 = { custom_tooltip = estate_seize_land_interaction_tooltip_260 seize_land_effect = { scale = 27 } }
		250 = { custom_tooltip = estate_seize_land_interaction_tooltip_250 seize_land_effect = { scale = 26 } }
		240 = { custom_tooltip = estate_seize_land_interaction_tooltip_240 seize_land_effect = { scale = 25 } }
		230 = { custom_tooltip = estate_seize_land_interaction_tooltip_230 seize_land_effect = { scale = 24 } }
		220 = { custom_tooltip = estate_seize_land_interaction_tooltip_220 seize_land_effect = { scale = 23 } }
		210 = { custom_tooltip = estate_seize_land_interaction_tooltip_210 seize_land_effect = { scale = 22 } }
		200 = { custom_tooltip = estate_seize_land_interaction_tooltip_200 seize_land_effect = { scale = 21 } }
		190 = { custom_tooltip = estate_seize_land_interaction_tooltip_190 seize_land_effect = { scale = 20 } }
		180 = { custom_tooltip = estate_seize_land_interaction_tooltip_180 seize_land_effect = { scale = 19 } }
		170 = { custom_tooltip = estate_seize_land_interaction_tooltip_170 seize_land_effect = { scale = 18 } }
		160 = { custom_tooltip = estate_seize_land_interaction_tooltip_160 seize_land_effect = { scale = 17 } }
		150 = { custom_tooltip = estate_seize_land_interaction_tooltip_150 seize_land_effect = { scale = 16 } }
		140 = { custom_tooltip = estate_seize_land_interaction_tooltip_140 seize_land_effect = { scale = 15 } }
		130 = { custom_tooltip = estate_seize_land_interaction_tooltip_130 seize_land_effect = { scale = 14 } }
		120 = { custom_tooltip = estate_seize_land_interaction_tooltip_120 seize_land_effect = { scale = 13 } }
		110 = { custom_tooltip = estate_seize_land_interaction_tooltip_110 seize_land_effect = { scale = 12 } }
		100 = { custom_tooltip = estate_seize_land_interaction_tooltip_100 seize_land_effect = { scale = 11 } }
		90 = { custom_tooltip = estate_seize_land_interaction_tooltip_90 seize_land_effect = { scale = 10 } }
		80 = { custom_tooltip = estate_seize_land_interaction_tooltip_80 seize_land_effect = { scale = 9 } }
		70 = { custom_tooltip = estate_seize_land_interaction_tooltip_70 seize_land_effect = { scale = 8 } }
		60 = { custom_tooltip = estate_seize_land_interaction_tooltip_60 seize_land_effect = { scale = 7 } }
		50 = { custom_tooltip = estate_seize_land_interaction_tooltip_50 seize_land_effect = { scale = 6 } }
		40 = { custom_tooltip = estate_seize_land_interaction_tooltip_40 seize_land_effect = { scale = 5 } }
		30 = { custom_tooltip = estate_seize_land_interaction_tooltip_30 seize_land_effect = { scale = 4 } }
		20 = { custom_tooltip = estate_seize_land_interaction_tooltip_20 seize_land_effect = { scale = 3 } }
		10 = { custom_tooltip = estate_seize_land_interaction_tooltip_10 seize_land_effect = { scale = 2 } }
		1 = { custom_tooltip = estate_seize_land_interaction_tooltip_1 seize_land_effect = { scale = 1 } }
	}
}
#EVERYTHING BELOW 1.35
estate_action_monarch_power = {
	if = {
		limit = { NOT = { estate_influence = { estate = $estate$ influence = 50 } } }
		add_$type$_power = 50
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 50 }
			NOT = { estate_influence = { estate = $estate$ influence = 75 }	}
		}
		add_$type$_power = 100
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 75 }
			NOT = { estate_influence = { estate = $estate$ influence = 100 } }
		}
		add_$type$_power = 150
	}
	if = {
		limit = { estate_influence = { estate = $estate$ influence = 100 } }
		add_$type$_power = 200
	}
}

estate_action_years_of_income = {
	if = {
		limit = { NOT = { estate_influence = {  estate = $estate$ influence = 50 } } }
		add_years_of_income = 0.25
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 50 }
			NOT = { estate_influence = { estate = $estate$ influence = 75 }	 }
		}
		add_years_of_income = 0.5
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 75 }
			NOT = { estate_influence = { estate = $estate$ influence = 100 } }
		}
		add_years_of_income = 0.75
	}
	if = {
		limit = { estate_influence = { estate = $estate$ influence = 100 } }
		add_years_of_income = 1
	}
}

estate_action_yearly_manpower = {
	if = {
		limit = { NOT = { estate_influence = { estate = $estate$ influence = 50} } }
		add_yearly_manpower = 1
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 50 }
			NOT = { estate_influence = { estate = $estate$ influence = 75 }	}
		}
		add_yearly_manpower = 1.5
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 75 }
			NOT = { estate_influence = { estate = $estate$ influence = 100 } }
		}
		add_yearly_manpower = 2
	}
	if = {
		limit = { estate_influence = { estate = $estate$ influence = 100 } }
		add_yearly_manpower = 2.5
	}
}

estate_action_scaling_modifier = {
	if = {
		limit = { NOT = { estate_influence = { estate = $estate$ influence = 50 } } }
		add_country_modifier = { name = $name$_level_1 duration = $duration$ }
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 50 }
			NOT = { estate_influence = { estate = $estate$ influence = 75 }	}
		}
		add_country_modifier = { name = $name$_level_2 duration = $duration$ }
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 75 }
			NOT = { estate_influence = { estate = $estate$ influence = 100 } }
		}
		add_country_modifier = { name = $name$_level_3 duration = $duration$ }
	}
	if = {
		limit = { estate_influence = { estate = $estate$ influence = 100 } }
		add_country_modifier = { name = $name$_level_4 duration = $duration$ }
	}
}

estate_action_scaling_province_modifier = {
	if = {
		limit = {
			$country$ = { NOT = { estate_influence = { estate = $estate$ influence = 50 }	} }
		}
		add_province_modifier = { name = $name$_level_1 duration = $duration$ }
	}
	if = {
		limit = {
			$country$ = {
				estate_influence = { estate = $estate$ influence = 50 }
				NOT = { estate_influence = { estate = $estate$ influence = 75 } }
			}
		}
		add_province_modifier = { name = $name$_level_2 duration = $duration$ }
	}
	if = {
		limit = {
			$country$ = {
				estate_influence = { estate = $estate$ influence = 75 }
				NOT = { estate_influence = { estate = $estate$ influence = 100 } }
			}
		}
		add_province_modifier = { name = $name$_level_3 duration = $duration$ }
	}
	if = {
		limit = { $country$ = { estate_influence = { estate = $estate$ influence = 100 } } }
		add_province_modifier = { name = $name$_level_4 duration = $duration$ }
	}
}

estate_action_tradition = {
	if = {
		limit = { NOT = { estate_influence = { estate = $estate$ influence = 50 } }
		}
		add_$type$_tradition = 10
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 50 }
			NOT = { estate_influence = { estate = $estate$ influence = 75 } }
		}
		add_$type$_tradition = 15
	}
	if = {
		limit = {
			estate_influence = { estate = $estate$ influence = 75 }
			NOT = { estate_influence = { estate = $estate$ influence = 100 } }
		}
		add_$type$_tradition = 20
	}
	if = {
		limit = { estate_influence = { estate = $estate$ influence = 100 } }
		add_$type$_tradition = 25
	}
}

# Supports the following parameters
###########################################
# estate_nobles
# estate_brahmins
# estate_burghers
# estate_church
# estate_cossacks
# estate_dhimmi
# estate_jains
# estate_maratha
# estate_nomadic_tribes
# estate_rajput
# estate_vaisyas
# estate_janissaries
# estate_eunuchs
# all	- disables ALL rebels from seized land
disable_rebels_from_seize_land_for_estate = {
	custom_tooltip = disable_rebels_from_seize_land_for_$estate$
	hidden_effect = {
		set_country_flag = disabled_rebels_from_seized_land_for_$estate$
	}
}

# Supports the following parameters
###########################################
# estate_nobles
# estate_brahmins
# estate_burghers
# estate_church
# estate_cossacks
# estate_dhimmi
# estate_jains
# estate_maratha
# estate_nomadic_tribes
# estate_rajput
# estate_vaisyas
# estate_janissaries
# estate_eunuchs
# all	- auto completes for every estate agenda
auto_complete_estate_agenda = {
	custom_tooltip = auto_complete_estate_agenda_$estate$_tt
	hidden_effect = {
		set_country_flag = auto_complete_estate_agenda_$estate$
	}
}

clr_auto_complete_flag = {
	hidden_effect = {
		clr_country_flag = auto_complete_estate_agenda_estate_nobles
		clr_country_flag = auto_complete_estate_agenda_estate_brahmins
		clr_country_flag = auto_complete_estate_agenda_estate_burghers
		clr_country_flag = auto_complete_estate_agenda_estate_church
		clr_country_flag = auto_complete_estate_agenda_estate_cossacks
		clr_country_flag = auto_complete_estate_agenda_estate_dhimmi
		clr_country_flag = auto_complete_estate_agenda_estate_jains
		clr_country_flag = auto_complete_estate_agenda_estate_maratha
		clr_country_flag = auto_complete_estate_agenda_estate_nomadic_tribes
		clr_country_flag = auto_complete_estate_agenda_estate_rajput
		clr_country_flag = auto_complete_estate_agenda_estate_vaisyas
		clr_country_flag = auto_complete_estate_agenda_estate_janissaries
		clr_country_flag = auto_complete_estate_agenda_estate_eunuchs
		clr_country_flag = auto_complete_estate_agenda_all
	}
}

on_completed_agenda_effect_estate_nobles = {}
on_completed_agenda_effect_estate_brahmins = {}
on_completed_agenda_effect_estate_burghers = {}
on_completed_agenda_effect_estate_church = {}
on_completed_agenda_effect_estate_cossacks = {}
on_completed_agenda_effect_estate_dhimmi = {}
on_completed_agenda_effect_estate_jains = {}
on_completed_agenda_effect_estate_maratha = {}
on_completed_agenda_effect_estate_nomadic_tribes = {}
on_completed_agenda_effect_estate_rajput = {}
on_completed_agenda_effect_estate_vaisyas = {}
on_completed_agenda_effect_estate_janissaries = {}
on_completed_agenda_effect_estate_eunuchs = {}
on_completed_agenda_effect_estate_qizilbash = {
	if = {
		limit = { has_government_attribute = theocratic_monarchy_mechanic }
		change_statists_vs_orangists = 0.05
	}
}
on_completed_agenda_effect_estate_ghulams = {
	if = {
		limit = { has_government_attribute = theocratic_monarchy_mechanic }
		change_statists_vs_orangists = 0.05
	}
}
on_completed_agenda_effect_estate_adventurers = {}
on_completed_agenda_effect_estate_artificers = {}
on_completed_agenda_effect_estate_mages = {}
on_completed_agenda_effect_estate_castonath_patricians = {}
on_completed_agenda_effect_estate_estate_vampires = {}
on_completed_agenda_effect_estate_eunuchs_anb = {}
on_completed_agenda_effect_estate_monstrous_tribes = {}

on_completed_agenda_effect_estate_boar_command = {}
on_completed_agenda_effect_estate_lion_command = {}
on_completed_agenda_effect_estate_wolf_command = {} 
on_completed_agenda_effect_estate_dragon_command = {}
on_completed_agenda_effect_estate_elephant_command = {}
on_completed_agenda_effect_estate_tiger_command = {}

on_completed_agenda_effect_estate_lowercastes = {}
on_completed_agenda_effect_estate_middlecastes = {}
on_completed_agenda_effect_estate_uppercastes = {}
on_completed_agenda_effect_estate_raj_ministries = {}

on_completed_agenda_effect_estate_shinukhorchi = {}
on_completed_agenda_effect_estate_daulophs = {}

on_completed_agenda_effect = {
	on_completed_agenda_effect_$estate$ = yes
	clr_auto_complete_flag = yes
}

on_failed_agenda_effect = {}

#Estates are here ordered in "mana classes" - ADM for Clergy, DIP for Burghers, etc

estate_action_MAKE_GENEROUS_DONATION_BRAHMINS = {}
estate_action_SEEK_SUPPORT_OF_BRAHMINS = {}
estate_action_RECRUIT_MINISTER_BRAHMINS = {}
estate_action_RECRUIT_INQUISITOR_BRAHMINS = {}
estate_action_DEMAND_SUPPORT_BRAHMINS = {}
estate_action_SEEK_BRAHMIN_LEGITIMACY_BRAHMINS = {}
estate_action_ASK_FOR_CONTRIBUTION_BURGHERS = {}
estate_action_DEMAND_SUPPORT_BURGHERS = {}
estate_action_GRANT_MONOPOLY_CHARTER_BURGHERS = {}
estate_action_RECRUIT_MINISTER_BURGHERS = {}
estate_action_GRANT_ADMIRALSHIP_BURGHERS = {}
estate_action_GRANT_NEW_WORLD_CHARTER_BURGHERS = {}
estate_action_COMISSION_MERCHANT_SHIPS_FOR_WAR_BURGHERS = {}
estate_action_MAKE_GENEROUS_DONATION_CHURCH = {}
estate_action_RECRUIT_MINISTER_CHURCH = {}
estate_action_RECRUIT_INQUISITOR_CHURCH = {}
estate_action_RELIGIOUS_DELEGATION_CHURCH = {}
estate_action_DEMAND_SUPPORT_CHURCH = {}
estate_action_SEEK_SUPPORT_OF_CLERGY_CHURCH = {}
estate_action_NEW_WORLD_MISSION_CHURCH = {}
estate_action_EXPAND_COSSACK_REGISTRY_COSSACKS = {}
estate_action_RAISE_COSSACK_HOST_COSSACKS = {}
estate_action_COSSACK_CONQUISTADOR_COSSACKS = {}
estate_action_RECRUIT_MINISTER_COSSACKS = {}
estate_action_CONSCRIPT_COSSACK_ELITE_COSSACKS = {}
estate_action_SUPPLY_ARMS_COSSACKS = {}
estate_action_PERMIT_SELF_GOVERNANCE_COSSACKS = {}
estate_action_RECRUIT_MINISTER_DHIMMI = {}
estate_action_LIGHTEN_DHIMMI_TAX_BURDEN_DHIMMI = {}
estate_action_PROMOTE_DHIMMI_NOBLES_DHIMMI = {}
estate_action_RECRUIT_FROM_THE_DHIMMI_DHIMMI = {}
estate_action_DEMAND_CONTRIBUTION_DHIMMI = {}
estate_action_PROCURE_LOANS_JAINS = {}
estate_action_INVESTIGATE_CORRUPTION_JAINS = {}
estate_action_PATRONIZE_JAIN_FAMILIES_JAINS = {}
estate_action_COMMISSION_JAIN_SCRIPTURES_JAINS = {}
estate_action_PROMOTE_MARATHA_NOBILITY_MARATHA = {}
estate_action_RECRUIT_MINISTER_MARATHA = {}
estate_action_RECRUIT_MARATHI_TROOPS_MARATHA = {}
estate_action_DEMAND_SUPPORT_MARATHA = {}
estate_action_CALL_DIET_NOBLES = {}
estate_action_GRANT_GENERALSHIP_NOBLES = {}
estate_action_RECRUIT_CONQUISTADOR_ESTATES_NOBLES = {}
estate_action_DEMAND_SUPPORT_NOBLES = {}
estate_action_RECRUIT_MINISTER_NOBLES = {}
estate_action_DEMAND_MORE_TROOPS_NOBLES = {}
estate_action_SUPPORT_TRIBES_NOMADIC_TRIBES = {}
estate_action_CONTRIBUTE_WARRIORS_NOMADIC_TRIBES = {}
estate_action_RAISE_HOST_NOMADIC_TRIBES = {}
estate_action_REDISTRIBUTE_HORDE_AUTHORITY_TRIBES = {}
estate_action_STRENGTHEN_TRIBAL_AUTONOMY = {}
estate_action_RECRUIT_MINISTER_NOMADIC_TRIBES = {}
estate_action_RECRUIT_RAJPUT_GENERAL_RAJPUT = {}
estate_action_LOOK_UP_PURBIAS_RAJPUT = {}
estate_action_DEMAND_SUPPORT_RAJPUT = {}
estate_action_EXEMPT_FROM_JIZYA_RAJPUT = {}
estate_action_PROMOTE_RAJPUT_NOBILITY_RAJPUT = {}
estate_action_RECRUIT_RAJPUT_TROOPS_RAJPUT = {}
estate_action_ASK_FOR_CONTRIBUTION_VAISYAS = {}
estate_action_DEMAND_SUPPORT_VAISYAS = {}
estate_action_SEEK_GUILD_SUPPORT_VAISYAS = {}
estate_action_RECRUIT_MINISTER_VAISYAS = {}
estate_action_COMISSION_MERCHANT_SHIPS_FOR_WAR_VAISYAS = {}

estate_action_GRANT_QIZILBASH_HORSES = {}
estate_action_PROMOTE_CAUCASIAN_TROOPS = {}
# Supports the following paramters
###########################################
# MAKE_GENEROUS_DONATION_BRAHMINS
# SEEK_SUPPORT_OF_BRAHMINS
# RECRUIT_MINISTER_BRAHMINS
# RECRUIT_INQUISITOR_BRAHMINS
# DEMAND_SUPPORT_BRAHMINS
# SEEK_BRAHMIN_LEGITIMACY_BRAHMINS
# ASK_FOR_CONTRIBUTION_BURGHERS
# DEMAND_SUPPORT_BURGHERS
# GRANT_MONOPOLY_CHARTER_BURGHERS
# RECRUIT_MINISTER_BURGHERS
# GRANT_ADMIRALSHIP_BURGHERS
# GRANT_NEW_WORLD_CHARTER_BURGHERS
# COMISSION_MERCHANT_SHIPS_FOR_WAR_BURGHERS
# MAKE_GENEROUS_DONATION_CHURCH
# RECRUIT_MINISTER_CHURCH
# RECRUIT_INQUISITOR_CHURCH
# RELIGIOUS_DELEGATION_CHURCH
# DEMAND_SUPPORT_CHURCH
# SEEK_SUPPORT_OF_CLERGY_CHURCH
# NEW_WORLD_MISSION_CHURCH
# EXPAND_COSSACK_REGISTRY_COSSACKS
# RAISE_COSSACK_HOST_COSSACKS
# COSSACK_CONQUISTADOR_COSSACKS
# RECRUIT_MINISTER_COSSACKS
# CONSCRIPT_COSSACK_ELITE_COSSACKS
# SUPPLY_ARMS_COSSACKS
# PERMIT_SELF_GOVERNANCE_COSSACKS
# RECRUIT_MINISTER_DHIMMI
# LIGHTEN_DHIMMI_TAX_BURDEN_DHIMMI
# PROMOTE_DHIMMI_NOBLES_DHIMMI
# RECRUIT_FROM_THE_DHIMMI_DHIMMI
# DEMAND_CONTRIBUTION_DHIMMI
# PROCURE_LOANS_JAINS
# INVESTIGATE_CORRUPTION_JAINS
# PATRONIZE_JAIN_FAMILIES_JAINS
# COMMISSION_JAIN_SCRIPTURES_JAINS
# DEMAND_SUPPORT_JAINS
# PROMOTE_MARATHA_NOBILITY_MARATHA
# RECRUIT_MINISTER_MARATHA
# RECRUIT_MARATHI_TROOPS_MARATHA
# DEMAND_SUPPORT_MARATHA
# CALL_DIET_NOBLES
# GRANT_GENERALSHIP_NOBLES
# RECRUIT_CONQUISTADOR_ESTATES_NOBLES
# DEMAND_SUPPORT_NOBLES
# RECRUIT_MINISTER_NOBLES
# DEMAND_MORE_TROOPS_NOBLES
# SUPPORT_TRIBES_NOMADIC_TRIBES
# CONTRIBUTE_WARRIORS_NOMADIC_TRIBES
# RAISE_HOST_NOMADIC_TRIBES
# RECRUIT_MINISTER_NOMADIC_TRIBES
# RECRUIT_RAJPUT_GENERAL_RAJPUT
# LOOK_UP_PURBIAS_RAJPUT
# DEMAND_SUPPORT_RAJPUT
# EXEMPT_FROM_JIZYA_RAJPUT
# PROMOTE_RAJPUT_NOBILITY_RAJPUT
# ASK_FOR_CONTRIBUTION_VAISYAS
# DEMAND_SUPPORT_VAISYAS
# SEEK_GUILD_SUPPORT_VAISYAS
# RECRUIT_MINISTER_VAISYAS
# COMISSION_MERCHANT_SHIPS_FOR_WAR_VAISYAS
estate_action = {
	estate_action_$estate_action$ = yes
}

enable_estate_action = {
	custom_tooltip = enable_estate_action_$estate_action$_tt
	custom_tooltip = estate_action_potential_effect
	tooltip = {
		estate_action_$estate_action$ = yes
	}
	hidden_effect = {
		set_country_flag = enable_estate_action_$estate_action$
	}
}

disable_estate_action = {
	custom_tooltip = disable_estate_action_$estate_action$_tt
	hidden_effect = {
		clr_country_flag = enable_estate_action_$estate_action$
	}
}

set_estate_action_cooldown = {
	hidden_effect = {
		clr_country_flag = $estate_action$_flag
		set_country_flag = $estate_action$_flag
	}
}

increase_estate_action_counter = {
	hidden_effect = {
		change_variable = { which = general_estate_action_counter value = 1 }
		change_variable = { which = $estate$_action_counter value = 1 }
	}
}

scaling_with_influence_privilege_tooltip = {
	custom_tooltip = scaling_with_estate_influence_tt
	custom_tooltip = when_loyal_tt
	tooltip = {
		add_country_modifier = { name = $estate_privilege$_loyal duration = -1 desc = UNTIL_REVOKED }
	}
	custom_tooltip = when_neutral_tt
	tooltip = {
		add_country_modifier = { name = $estate_privilege$_neutral duration = -1 desc = UNTIL_REVOKED }
	}
	custom_tooltip = when_disloyal_tt
	tooltip = {
		add_country_modifier = { name = $estate_privilege$_disloyal duration = -1 desc = UNTIL_REVOKED }
	}
}

scaling_with_loyalty_privilege_tooltip = {
	custom_tooltip = scaling_with_estate_loyalty_tt
	tooltip = {
		add_country_modifier = { name = $estate_privilege$_scaling duration = -1 desc = UNTIL_REVOKED }
	}
}