namespace = elven_tolerance_events

country_event = {	# Racial Minister
	id = elven_tolerance_events.1001
	title = elven_tolerance_events.1001.t
	desc = elven_tolerance_events.1001.desc
	picture = ADVISOR_eventPicture
	GOTO = province_event_target

	trigger = {
		ai = no
		NOT = {has_country_modifier = elven_administration}
		medium_tolerance_elven_race_trigger = yes
		any_owned_province = {
			is_city = yes
			has_elven_majority_trigger = yes
		}
	}
	mean_time_to_happen = {
		months = 240
		modifier = {factor = 2.0 any_owned_province = {has_elven_majority_trigger = yes owner = {employed_advisor = {culture = PREV}}}}
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
		modifier = {factor = 0.90 high_tolerance_elven_race_trigger = yes}
	}
	immediate = {
		hidden_effect = {
			save_event_target_as = country_elder_advisor_target
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
				}
				save_event_target_as = province_event_target
				save_event_target_as = advisor_province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
					development = 30
				}
				save_event_target_as = province_event_target
				save_event_target_as = advisor_province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
					development = 40
				}
				save_event_target_as = province_event_target
				save_event_target_as = advisor_province_event_target
			}
			event_target:province_event_target = {
				set_variable = {which = province_development value = 0}
				export_to_variable = {which = province_development value = development}
				set_variable = {which = cash_per_dev_tooltip value = 0}
				change_variable = {which = cash_per_dev_tooltip value = 2}
				set_variable = {which = prestige_per_dev_tooltip value = 0}
				change_variable = {which = prestige_per_dev_tooltip value = 0.2}
			}
		}
	}
	option = {	# So what?
		name = elven_tolerance_events.1001.a
		event_target:province_event_target = {
			add_unrest = 10
		}
	}
	option = {	# Recruit
		name = elven_tolerance_events.1001.b
		event_target:province_event_target = {
			get_cost_dependant_racial_advisor = { class = adm random = yes }
		}
		add_estate_loyalty = { estate = estate_elven loyalty = 5 }
		event_target:province_event_target = {
			get_tolerance_from_provinces = { race = elven }
			lose_treasury_from_provinces = { cash_per_dev = 2 }
		}
	}
	option = {	# Remove Him
		name = elven_tolerance_events.1001.c
		event_target:province_event_target = {
			get_intolerance_from_provinces = { race = elven }
			gain_prestige_from_provinces = { prestige_per_dev = 0.2 }
		}
		increase_legitimacy_small_effect = yes			
		add_estate_loyalty = { estate = estate_elven loyalty = -10 }
	}
}
country_event = {	# Minor landholders demand autonomy
	id = elven_tolerance_events.1002
	title = elven_tolerance_events.1002.t
	desc = elven_tolerance_events.1002.desc
	picture = GREAT_BUILDING_eventPicture
	GOTO = province_event_target

	trigger = {
		ai = no
		NOT = {has_country_modifier = elven_administration}
		any_owned_province = {
			is_city = yes
			has_elven_majority_trigger = yes
		}
	}

	mean_time_to_happen = {
		months = 240
		modifier = {factor = 2.00 has_estate_influence_modifier = {estate = estate_elven modifier = EST_VAL_ELVEN_LANDHOLDERS_DEMANDS}}
		modifier = {factor = 2.00 stability = 2}
		modifier = {factor = 2.00 legitimacy_equivalent = 80}
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
		modifier = {factor = 2.00 low_tolerance_elven_race_trigger = yes}
		modifier = {factor = 0.90 medium_tolerance_elven_race_trigger = yes}
		modifier = {factor = 0.80 high_tolerance_elven_race_trigger = yes}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
					development = 30
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
					development = 40
				}
				save_event_target_as = province_event_target
			}
			event_target:province_event_target = {
				set_variable = {which = province_development value = 0}
				export_to_variable = {which = province_development value = development}
				set_variable = {which = cash_per_dev_tooltip value = 0}
				change_variable = {which = cash_per_dev_tooltip value = 10}
			}
		}
	}
	option = {	# We cannot do this
		name = elven_tolerance_events.1002.a
		
		event_target:province_event_target = {
			add_unrest = 10
		}
	}
	option = {	# Aight then
		name = elven_tolerance_events.1002.b
		add_estate_loyalty = { estate = estate_elven loyalty = 20 }
		add_estate_influence_modifier = {
			estate = estate_elven
			desc = EST_VAL_ELVEN_LANDHOLDERS_DEMANDS
			influence = 5
			duration = 7300
		}
		event_target:province_event_target = {
			add_elven_minority_size_effect = yes
			add_local_autonomy = 25
			get_tolerance_from_provinces = { race = elven }
		}
	}
	option = {	# How about we confiscate your land instead?
		name = elven_tolerance_events.1002.c
		add_estate_loyalty = { estate = estate_elven loyalty = -20 }
		event_target:province_event_target = {
			add_unrest = 20
			if = {
				limit = {culture_is_elven = yes}
				remove_1_dev_to_provinces = yes
			}
			else = {
				remove_elven_minority_size_effect = yes
			}		
			get_intolerance_from_provinces = { race = elven }
			gain_treasury_from_provinces = { cash_per_dev = 10 }
			hidden_effect = {
				random_province = {
					limit = {
						province_distance = { who = THIS distance = 100 }
						owner = {
							NOT = {has_estate_privilege = estate_elven_purge}
							NOT = {has_estate_privilege = estate_elven_expulsion}
						}			
					}
					if = {
						limit = {ROOT = {culture_is_elven = yes}}
						add_1_dev_to_provinces = yes
					}
					else = {
						add_elven_minority_size_effect = yes
					}
				}
			}
		}
	}
}
country_event = {	# Ambitious elvens in government
	id = elven_tolerance_events.1003
	title = elven_tolerance_events.1003.t
	desc = elven_tolerance_events.1003.desc
	picture = PAINTER_ARTIST_eventPicture
	GOTO = province_event_target

	trigger = {
		ai = no
		any_owned_province = {
			is_city = yes
			has_any_elven_pop_trigger = yes
		}
		NOT = {has_country_modifier = elven_administration}
		OR = {
			medium_tolerance_elven_race_trigger = yes
			high_tolerance_elven_race_trigger = yes
		}
	}

	mean_time_to_happen = {
		months = 360
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
		modifier = {factor = 0.80 high_tolerance_elven_race_trigger = yes}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_city = yes
					has_any_elven_pop_trigger = yes
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_in_government_province
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_any_elven_pop_trigger = yes
					development = 30
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_in_government_province
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_any_elven_pop_trigger = yes
					development = 40
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_in_government_province
			}
			event_target:province_event_target = {
				set_variable = {which = province_development value = 0}
				export_to_variable = {which = province_development value = development}
				set_variable = {which = prestige_per_dev_tooltip value = 0}
				change_variable = {which = prestige_per_dev_tooltip value = 0.2}
				set_variable = {which = cash_per_dev_tooltip value = 0}
				change_variable = {which = cash_per_dev_tooltip value = 5}
			}
		}
	}
	option = {	# I guess its to be expected
		name = elven_tolerance_events.1003.a
		ai_chance = {factor = 50}
		add_adm_power = -20
		add_estate_loyalty = { estate = estate_elven loyalty = 10 }
	}
	option = {	# Curtail ambitious officials
		name = elven_tolerance_events.1003.c
		add_estate_loyalty = { estate = all loyalty = 10 }
		add_estate_loyalty = { estate = estate_elven loyalty = -20 }
		increase_legitimacy_small_effect = yes
		event_target:province_event_target = {
			get_intolerance_from_provinces = { race = elven }
		}
	}
	option = {	# Their ambition will drive us further
		name = elven_tolerance_events.1003.b
		trigger = { high_tolerance_elven_race_trigger = no }
		add_estate_loyalty = { estate = all loyalty = -10 }
		add_estate_loyalty = { estate = estate_elven loyalty = 30 }
		event_target:province_event_target = {
			add_scaled_local_adm_power = 2
			add_scaled_local_dip_power = 2
			add_scaled_local_mil_power = 2
			get_tolerance_from_provinces = { race = elven }
			lose_prestige_from_provinces = { prestige_per_dev = 0.2 }
		}
	}
	option = {	# Reward them for their contributions
		name = elven_tolerance_events.1003.d
		trigger = { high_tolerance_elven_race_trigger = yes }
		change_government_reform_progress = 10
		event_target:province_event_target = {
			add_scaled_local_adm_power = 3
			add_scaled_local_dip_power = 3
			add_scaled_local_mil_power = 3
			lose_treasury_from_provinces = { cash_per_dev = 5 }
		}
	}
}
country_event = {	# Elven dominance undermining us
	id = elven_tolerance_events.1004
	title = elven_tolerance_events.1004.t
	desc = elven_tolerance_events.1004.desc
	picture = OVEREXTENSION_eventPicture

	trigger = {
		ai = no
		NOT = {has_country_modifier = elven_administration}
		OR = {
			estate_influence = { estate = estate_elven influence = 40 }
			estate_territory = { estate = estate_elven territory = 40 }
			calc_true_if = {
				has_estate_privilege = estate_elven_first_hand_chairman
				has_country_modifier = estate_elven_diplomacy_chairman_modifier
				has_country_modifier = estate_elven_military_chairman_modifier
				has_country_modifier = estate_elven_economic_chairman_modifier
				has_country_modifier = estate_elven_navy_chairman_modifier
				amount = 2
			}
			any_owned_province = {
				has_elven_majority_trigger = yes
				ROOT = { employed_advisor = { culture = PREV } }
			}
		}
	}

	mean_time_to_happen = {
		months = 240
		modifier = {factor = 3.00 NOT = {had_country_flag = { flag = elven_tolerance_events_1004_flag days = 1825}}}
		modifier = {
			factor = 0.9
			calc_true_if = {
				has_estate_privilege = estate_elven_first_hand_chairman
				has_country_modifier = estate_elven_diplomacy_chairman_modifier
				has_country_modifier = estate_elven_military_chairman_modifier
				has_country_modifier = estate_elven_economic_chairman_modifier
				has_country_modifier = estate_elven_navy_chairman_modifier
				amount = 3
			}
		}
		modifier = {
			factor = 0.9
			calc_true_if = {
				has_estate_privilege = estate_elven_first_hand_chairman
				has_country_modifier = estate_elven_diplomacy_chairman_modifier
				has_country_modifier = estate_elven_military_chairman_modifier
				has_country_modifier = estate_elven_economic_chairman_modifier
				has_country_modifier = estate_elven_navy_chairman_modifier
				amount = 4
			}
		}
		modifier = {factor = 0.9 estate_territory = {estate = estate_elven territory = 60}}
		modifier = {factor = 0.9 estate_territory = {estate = estate_elven territory = 80}}
		modifier = {factor = 0.9 estate_influence = {estate = estate_elven influence = 60}}
		modifier = {factor = 0.9 estate_influence = {estate = estate_elven influence = 80}}
		modifier = {factor = 0.9 estate_influence = {estate = estate_elven influence = 100}}
		modifier = {factor = 0.9 NOT = {legitimacy_equivalent = 90}}
		modifier = {factor = 0.9 NOT = {legitimacy_equivalent = 80}}
		modifier = {factor = 0.9 NOT = {legitimacy_equivalent = 70}}
		modifier = {factor = 0.9 NOT = {legitimacy_equivalent = 60}}
		modifier = {factor = 0.9 NOT = {legitimacy_equivalent = 50}}
		modifier = {factor = 0.9 NOT = {stability = 3}}
		modifier = {factor = 0.9 NOT = {stability = 2}}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
	}
	immediate = {
		hidden_effect = {
			clr_country_flag = elven_tolerance_events_1004_flag
		}
	}
	option = {	# What can we do?
		name = elven_tolerance_events.1004.a
		
		reduce_legitimacy_small_effect = yes
		add_prestige = -10
	}
	option = {	# That just means less work for us
		name = elven_tolerance_events.1004.b
		reduce_legitimacy_small_effect = yes
		add_estate_loyalty_modifier = {
			estate = estate_elven
			desc = EST_VAL_ELVEN_TAKE_POWER
			loyalty = 20
			duration = 7300
		}
		add_estate_influence_modifier = {
			estate = estate_elven
			desc = EST_VAL_ELVEN_TAKE_POWER
			influence = 20
			duration = 7300
		}
	}
	option = {	# They need to be put in their place
		name = elven_tolerance_events.1004.c
		add_prestige_or_monarch_power = {amount =  10}
		set_country_flag = elven_tolerance_events_1004_flag
		increase_legitimacy_small_effect = yes
		small_decrease_of_elven_tolerance_effect = yes
		add_estate_loyalty = { estate = estate_elven loyalty = -20 }
		add_estate_loyalty_modifier = {
			estate = estate_elven
			desc = EST_VAL_ELVEN_PUT_IN_THEIR_PLACE
			loyalty = -20
			duration = 7300
		}
		add_estate_influence_modifier = {
			estate = estate_elven
			desc = EST_VAL_ELVEN_PUT_IN_THEIR_PLACE
			influence = -20
			duration = 7300
		}
	}
}
country_event = {	# Rapid growth due to elven minority
	id = elven_tolerance_events.1005
	title = elven_tolerance_events.1005.t
	desc = elven_tolerance_events.1005.desc
	picture = CITY_VIEW_eventPicture
	GOTO = province_event_targetd

	trigger = {
		ai = no
		NOT = {has_country_modifier = elven_administration}
		any_owned_province = {
			is_city = yes
			has_elven_minority_trigger = yes
		}
	}

	mean_time_to_happen = {
		months = 240
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
		modifier = {factor = 0.90 has_large_elven_minority_trigger = yes}
		modifier = {factor = 0.90 has_elven_majority_trigger = yes}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					development = 30
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					development = 40
				}
				save_event_target_as = province_event_target
			}
			event_target:province_event_target = {
				set_variable = {which = province_development value = 0}
				export_to_variable = {which = province_development value = development}
				set_variable = {which = cash_per_dev_tooltip value = 0}
				change_variable = {which = cash_per_dev_tooltip value = 2}
				area = {
					set_variable = {which = province_development value = 0}
					export_to_variable = {which = province_development value = development}
					set_variable = {which = cash_per_dev_tooltip value = 0}
					change_variable = {which = cash_per_dev_tooltip value = 2}
				}
			}
		}
	}
	option = {	# Great!
		name = elven_tolerance_events.1005.a

		event_target:province_event_target = {
			add_unrest = 10
			add_elven_minority_size_effect = yes
		}
	} 
	option = {	# Support further development
		name = elven_tolerance_events.1005.b

		add_estate_loyalty = { estate = estate_elven loyalty = 10 }
		event_target:province_event_target = {
			get_tolerance_from_provinces = { race = elven }
			lose_treasury_from_provinces = { cash_per_dev = 2}
			add_elven_minority_size_effect = yes
		}
	}
	option = {	# They have no further use
		name = elven_tolerance_events.1005.c

		add_estate_loyalty = { estate = estate_elven loyalty = -10 }
		event_target:province_event_target = {
			get_intolerance_from_provinces = { race = elven }
			remove_elven_minority_size_effect = yes
			hidden_effect = {
				random_province = {
					limit = {
						province_distance = { who = THIS distance = 100 }
						owner = {
							NOT = {has_estate_privilege = estate_elven_purge}
							NOT = {has_estate_privilege = estate_elven_expulsion}
						}					
					}
					add_elven_minority_size_effect = yes
				}
			}
		}
	}
}
country_event = {	# Angry elven mob forms
	id = elven_tolerance_events.1006
	title = elven_tolerance_events.1006.t
	desc = elven_tolerance_events.1006.desc
	picture = ANGRY_MOB_eventPicture
	GOTO = province_event_target

	trigger = {
		ai = no
		NOT = {has_country_modifier = elven_administration}
		any_owned_province = {
			is_city = yes
			has_any_elven_pop_trigger = yes
			pure_unrest = 5
		}
	}

	mean_time_to_happen = {
		months = 240
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
		modifier = {factor = 0.90 any_owned_province = {has_large_elven_minority_trigger = yes pure_unrest = 5}}
		modifier = {factor = 0.90 any_owned_province = {has_elven_majority_trigger = yes pure_unrest = 5}}
		modifier = {factor = 0.50 has_oppressed_elven_pop_trigger = yes}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					pure_unrest = 5
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_mob_province
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_any_elven_pop_trigger = yes
					pure_unrest = 5
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_mob_province
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					development = 30
					pure_unrest = 5
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_mob_province
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					development = 40
					pure_unrest = 5
				}
				save_event_target_as = province_event_target
				save_event_target_as = elven_mob_province
			}
			event_target:province_event_target = {
				set_variable = {which = province_manpower value = 0}
				export_to_variable = {which = province_manpower value = base_manpower}
				set_variable = {which = manpower_per_dev_tooltip value = 0}
				change_variable = {which = manpower_per_dev_tooltip value = 500}
				set_variable = {which = province_development value = 0}
				export_to_variable = {which = province_development value = development}
				set_variable = {which = prestige_per_dev_tooltip value = 0}
				change_variable = {which = prestige_per_dev_tooltip value = 0.1}
			}
		}
	}
	option = {	# Just elvens being elvens
		name = elven_tolerance_events.1006.b
		
		event_target:province_event_target = {
			add_unrest = 10
			add_devastation = 20
		}
	}
	option = {	# De-escalate the situation
		name = elven_tolerance_events.1006.a
		
		add_estate_loyalty = { estate = estate_elven loyalty = 10 }
		event_target:province_event_target = {
			add_unrest = -10
			lose_prestige_from_provinces = { prestige_per_dev = 0.1 }
		}
	}
	option = {	# Send out the troops!
		name = elven_tolerance_events.1006.c
		trigger = {manpower = 5}
		add_estate_loyalty = { estate = estate_elven loyalty = -10 }
		
		event_target:province_event_target = {
			owner = { add_prestige_or_monarch_power = {amount = 10} }
			lose_manpower_from_provinces = { manpower_per_dev = 0.5 }
			if = {
				limit = {culture_is_elven = yes}
				remove_1_dev_to_provinces = yes
			}
			else = {
				remove_elven_minority_size_effect = yes
			}		
			hidden_effect = {
				random_province = {
					limit = {
						province_distance = { who = THIS distance = 100 }
						owner = {
							NOT = {has_estate_privilege = estate_elven_purge}
							NOT = {has_estate_privilege = estate_elven_expulsion}
						}					
					}
					if = {
						limit = {ROOT = {culture_is_elven = yes}}
						add_1_dev_to_provinces = yes
					}
					else = {
						add_elven_minority_size_effect = yes
					}
				}
			}
		}
	}
}
country_event = {	# Elven highwaymen
	id = elven_tolerance_events.1007
	title = elven_tolerance_events.1007.t
	desc = elven_tolerance_events.1007.desc
	picture = BORDER_TENSION_eventPicture
	GOTO = ROOT

	trigger = {
		ai = no
		NOT = {has_country_modifier = elven_administration}
		NOT = {high_tolerance_elven_race_trigger = yes }
		any_owned_province = {
			is_city = yes
			OR = {
				has_province_modifier = aw_bandits_1
				pure_unrest = 5
			}
			has_any_elven_pop_trigger = yes
			NOT = { has_province_modifier = highwaymen_modifier }
			NOT = { has_province_modifier = populace_punished_for_highwaymen_modifier }
		}
	}

	mean_time_to_happen = {
		months = 2400
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 2.00 high_tolerance_elven_race_trigger = yes}
		modifier = {factor = 1.25 has_idea = tolerance_idea_2}
		modifier = {factor = 0.90 any_owned_province = {has_large_elven_minority_trigger = yes OR = {pure_unrest = 5 has_province_modifier = highwaymen_modifier}}}
		modifier = {factor = 0.90 any_owned_province = {has_elven_majority_trigger = yes OR = {pure_unrest = 5 has_province_modifier = highwaymen_modifier}}}
		modifier = {factor = 0.50 any_owned_province = {has_oppressed_elven_pop_trigger = yes}}
		modifier = {factor = 0.50 any_owned_province = {any_neighbor_province = {has_province_modifier = highwaymen_modifier}}}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					OR = {
						has_province_modifier = aw_bandits_1
						pure_unrest = 5
					}
					NOT = { has_province_modifier = highwaymen_modifier }
					NOT = { has_province_modifier = populace_punished_for_highwaymen_modifier }
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_minority_trigger = yes
					OR = {
						has_province_modifier = aw_bandits_1
						pure_unrest = 5
					}
					NOT = { has_province_modifier = highwaymen_modifier }
					NOT = { has_province_modifier = populace_punished_for_highwaymen_modifier }
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
					OR = {
						has_province_modifier = aw_bandits_1
						pure_unrest = 5
					}
					NOT = { has_province_modifier = highwaymen_modifier }
					NOT = { has_province_modifier = populace_punished_for_highwaymen_modifier }
				}
				save_event_target_as = province_event_target
			}
			random_owned_province = {
				limit = {
					is_city = yes
					has_elven_majority_trigger = yes
					development = 20
					OR = {
						has_province_modifier = aw_bandits_1
						pure_unrest = 5
					}
					NOT = { has_province_modifier = highwaymen_modifier }
					NOT = { has_province_modifier = populace_punished_for_highwaymen_modifier }
				}
				save_event_target_as = province_event_target
			}
			event_target:province_event_target = {
				set_variable = {which = province_manpower value = 0}
				export_to_variable = {which = province_manpower value = base_manpower}
				set_variable = {which = manpower_per_dev_tooltip value = 0}
				change_variable = {which = manpower_per_dev_tooltip value = 500}
				set_variable = {which = province_development value = 0}
				export_to_variable = {which = province_development value = development}
			}
		}
	}
	option = {	# Not worth finding them
		name = elven_tolerance_events.1007.a
		
		event_target:province_event_target = {
			if = {
				limit = {NOT = {has_province_modifier = aw_bandits_1}}
				add_province_modifier = { name = aw_bandits_1 duration = 3650 }
			}
			else = {
				add_province_modifier = { name = highwaymen_modifier duration = 3650 }
			}
		}
	}
	option = {	# Establish more frequent patrols
		name = elven_tolerance_events.1007.b
		trigger = {manpower = 5}
		
		add_estate_loyalty = { estate = estate_elven loyalty = -10 }
		add_estate_loyalty = { estate = all loyalty = 10 }
		event_target:province_event_target = {
			add_unrest = -10
			lose_manpower_from_provinces = { manpower_per_dev = 0.5 }
			remove_province_modifier = aw_bandits_1
		}
	}
	option = {	# Punish them all for harbouring the criminals
		name = elven_tolerance_events.1007.c
		
		add_estate_loyalty = { estate = estate_elven loyalty = -10 }
		
		event_target:province_event_target = {
			add_province_modifier = { name = populace_punished_for_highwaymen_modifier duration = 3650 }
			get_intolerance_from_provinces = { race = elven }
			if = {
				limit = {culture_is_elven = yes}
				remove_1_dev_to_provinces = yes
			}
			else = {
				remove_elven_minority_size_effect = yes
			}		
			remove_province_modifier = aw_bandits_1
			hidden_effect = {
				random_province = {
					limit = {
						province_distance = { who = THIS distance = 100 }
						owner = {
							NOT = {has_estate_privilege = estate_elven_purge}
							NOT = {has_estate_privilege = estate_elven_expulsion}
						}					
					}
					if = {
						limit = {ROOT = {culture_is_elven = yes}}
						add_1_dev_to_provinces = yes
					}
					else = {
						add_elven_minority_size_effect = yes
					}
				}
			}
		}
	}
}
country_event = {	# minority arrives
	id = elven_tolerance_events.1009
	title = elven_tolerance_events.1009.t
	desc = elven_tolerance_events.1009.desc
	picture = CITY_DEVELOPMENT_eventPicture
	
	hidden = yes

	trigger = {
		ai = no
		OR = {
			medium_tolerance_elven_race_trigger = yes
			high_tolerance_elven_race_trigger = yes
		}
	}

	mean_time_to_happen = {
		months = 240
		modifier = {factor = 5.00 is_at_war = yes}
		modifier = {factor = 5.00 high_tolerance_elven_race_trigger = no}
		modifier = {factor = 2.00 any_owned_province = {has_any_elven_pop_trigger = no}}
		modifier = {factor = 1.50 NOT = {stability = 2}}
		modifier = {factor = 1.50 NOT = {legitimacy_equivalent = 80}}
		modifier = {factor = 0.75 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_idea = tolerance_idea_2}
		modifier = {factor = 0.75 any_owned_province = {is_prosperous = yes}}
		modifier = {factor = 0.95 any_owned_province = {has_any_elven_pop_trigger = yes}}
		modifier = {factor = 0.95 any_owned_province = {has_any_elven_pop_trigger = yes development = 20}}
		modifier = {factor = 0.95 any_owned_province = {has_any_elven_pop_trigger = yes development = 30}}
		modifier = {factor = 0.95 any_owned_province = {has_any_elven_pop_trigger = yes development = 40}}
	}

	immediate = { }

	option = {	# 
		name = elven_tolerance_events.1009.a
		ai_chance = {factor = 10}

		random_owned_province = {
			limit = {is_city = yes}
			province_event = {id = elven_tolerance_events.1008}
		}
	}
	option = {	# 
		name = elven_tolerance_events.1009.b
		trigger = { any_owned_province = { is_city = yes development = 20 } }
		ai_chance = {factor = 20}

		random_owned_province = {
			limit = { is_city = yes development = 20 }
			province_event = {id = elven_tolerance_events.1008}
		}
	}
	option = {	# 
		name = elven_tolerance_events.1009.c
		trigger = { any_owned_province = { is_city = yes development = 30 } }
		ai_chance = {factor = 30}

		random_owned_province = {
			limit = { is_city = yes development = 30 }
			province_event = {id = elven_tolerance_events.1008}
		}
	}
	option = {	# 
		name = elven_tolerance_events.1009.d
		trigger = { any_owned_province = { is_city = yes development = 40 } }
		ai_chance = {factor = 40}

		random_owned_province = {
			limit = { is_city = yes development = 40 }
			province_event = {id = elven_tolerance_events.1008}
		}
	}
	option = {	# 
		name = elven_tolerance_events.1009.e
		trigger = { any_owned_province = { is_city = yes development = 40 is_prosperous = yes } }
		ai_chance = {factor = 50}

		random_owned_province = { limit = { is_city = yes development = 40 is_prosperous = yes }
			province_event = {id = elven_tolerance_events.1008}
		}
	}
	option = {	# 
		name = elven_tolerance_events.1009.f
		trigger = { any_owned_province = { is_city = yes development = 50 is_prosperous = yes } }
		ai_chance = {factor = 60}

		random_owned_province = { limit = { is_city = yes development = 50 is_prosperous = yes }
			province_event = {id = elven_tolerance_events.1008}
		}
	}
	option = {	# 
		name = elven_tolerance_events.1009.g
		trigger = { any_owned_province = { is_city = yes development = 60 is_prosperous = yes } }
		ai_chance = {factor = 70}

		random_owned_province = { limit = { is_city = yes development = 60 is_prosperous = yes }
			province_event = {id = elven_tolerance_events.1008}
		}
	}
}
province_event = {	# minority arrives
	id = elven_tolerance_events.1008
	title = elven_tolerance_events.1008.t
	desc = elven_tolerance_events.1008.desc
	picture = CITY_DEVELOPMENT_eventPicture

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			save_event_target_as = province_event_target
			set_variable = {which = province_development value = 0}
			export_to_variable = {which = province_development value = development}
			set_variable = {which = cash_per_dev_tooltip value = 0}
			change_variable = {which = cash_per_dev_tooltip value = 2}
		}
	}
	option = {	# Nah
		name = elven_tolerance_events.1008.a
	}
	option = {	# Yes!
		name = elven_tolerance_events.1008.b
		
		owner = {
			add_estate_loyalty = { estate = estate_elven loyalty = 5 }
			small_increase_of_elven_tolerance_effect = yes
		}
		add_elven_minority_size_effect = yes
	}
	option = {	# Yeah, let them in for a price
		name = elven_tolerance_events.1008.c
		
		owner= {add_estate_loyalty = { estate = estate_elven loyalty = -10 }}
		add_elven_minority_size_effect = yes
		gain_treasury_from_provinces = { cash_per_dev = 2 }		
	}
}
country_event = {	#elven autonomy privilege
	id = elven_tolerance_events.5001
	title = elven_tolerance_events.5001.t
	desc = elven_tolerance_events.5001.desc
	picture = TRADE_GOODS_PLANTATION_GOODS_IN_WAREHOUSE_eventPicture

	is_triggered_only = yes

	option = {
		name = elven_tolerance_events.5001.a

		reapply_estate_privilege = { privilege = estate_elven_autonomy }
	}
	option = {
		name = elven_tolerance_events.5001.b

		custom_tooltip = remove_estate_elven_autonomy.tooltip
		remove_estate_privilege = estate_elven_autonomy
		hidden_effect = {
			every_owned_province = {
				limit = {has_province_modifier = estate_guaranteed_autonomy_mod}
				remove_province_modifier = estate_guaranteed_autonomy_mod
			}
		}
	}
}
country_event = {	#elven Intolerance privilege
	id = elven_tolerance_events.5002
	title = elven_tolerance_events.5002.t
	desc = elven_tolerance_events.5002.desc
	picture = TRADE_GOODS_PLANTATION_GOODS_IN_WAREHOUSE_eventPicture

	is_triggered_only = yes

	option = {
		name = elven_tolerance_events.5002.a

		reapply_estate_privilege = { privilege = estate_elven_intolerance_policy }
	}
	option = {
		name = elven_tolerance_events.5002.b

		remove_estate_privilege = estate_elven_intolerance_policy
	}
}
country_event = {	# elven taxation
	id = elven_tolerance_events.5003
	title = elven_tolerance_events.5003.t
	desc = elven_tolerance_events.5003.desc
	picture = TRADE_GOODS_PLANTATION_GOODS_IN_WAREHOUSE_eventPicture

	is_triggered_only = yes

	option = {
		name = elven_tolerance_events.5003.a
		trigger = {
			any_owned_province = { has_elven_majority_trigger = yes }
		}

		reapply_estate_privilege = { privilege = estate_elven_taxation_policy }
	}
	option = {
		name = elven_tolerance_events.5003.b

		custom_tooltip = remove_estate_elven_taxation_policy.tooltip
		remove_estate_privilege = estate_elven_taxation_policy
	}
}
country_event = {	# elven tolerance update
	id = elven_tolerance_events.5004
	title = elven_tolerance_events.5004.t
	desc = elven_tolerance_events.5004.desc
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	hidden = yes

	option = {
		name = elven_tolerance_events.5004.a

		every_owned_province = {
			limit = {
				has_any_elven_pop_trigger = yes
			}
			update_specific_racial_province_modifier_tolerance = { race=elven }
		}
	}
}
country_event = {	# elven tolerance update
	id = elven_tolerance_events.5005
	title = elven_tolerance_events.5005.t
	desc = elven_tolerance_events.5005.desc
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	hidden = yes

	trigger = {
		OR = {
			NOT = {has_country_flag = just_updated_elven_tolerance_flag}
			had_country_flag = {
				flag = just_updated_elven_tolerance_flag
				days = 180
			}
		}
	}
	option = {
		name = elven_tolerance_events.5005.a
		
		update_elven_tolerance = yes
	}
}
country_event = {	#Expulsion/Purge - Minority 
	id = racial_pop_events_elven.17
	title = racial_pop_events_elven.17.t
	picture = REFUGEES_ESCAPING_eventPicture
	goto = racial_pop_province_origin
	
	desc = {
		trigger = { has_country_modifier = racial_pop_elven_expulsion }
		desc = racial_pop_events_elven.17.d
	}
	desc = {
		trigger = { has_country_modifier = racial_pop_elven_purge }
		desc = racial_pop_events_elven.17.dpurge
	}

	trigger = {
		OR = {
			has_country_modifier = racial_pop_elven_expulsion
			has_country_modifier = racial_pop_elven_purge
		}
		any_owned_province = {
			has_elven_minority_trigger = yes
		}
	}
	
	mean_time_to_happen = {
		days = 1825
		modifier = {factor = 0.90 has_country_modifier = monstrous_nation }
		modifier = {factor = 0.50 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_country_modifier = racial_pop_elven_purge}
		modifier = {factor = 0.75 has_idea = supremacy_inquisition}
		modifier = {factor = 0.75 has_government_attribute = faster_purguing_reform}
		modifier = {factor = 0.75 has_government_attribute = expulsion_purge_give_cash_and_power}
		modifier = {
			factor = 0.1
			calc_true_if = {
				all_owned_province = {
					has_elven_minority_trigger = yes
				}
				amount = 100
			}
		}
		modifier = {
			factor = 0.5
			calc_true_if = {
				all_owned_province = {
					has_elven_minority_trigger = yes
				}
				amount = 50
			}
		}
		modifier = {
			factor = 0.75
			calc_true_if = {
				all_owned_province = {
					has_elven_minority_trigger = yes
				}
				amount = 25
			}
		}
	}
	
	immediate = {
		hidden_effect = {	#Make this the monstrous purge thing
			random_owned_province = {
				limit = {
					has_elven_minority_trigger = yes
				}
				save_event_target_as = racial_pop_province_origin
			}
			random_owned_province = {
				limit = {
					has_elven_minority_trigger = yes
					development = 10
				}
				save_event_target_as = racial_pop_province_origin
			}
			random_owned_province = {
				limit = {
					has_elven_minority_trigger = yes
					development = 20
				}
				save_event_target_as = racial_pop_province_origin
			}
			random_owned_province = {
				limit = {
					has_elven_minority_trigger = yes
					development = 30
				}
				save_event_target_as = racial_pop_province_origin
			}
			random_owned_province = {
				limit = {
					has_elven_minority_trigger = yes
					units_in_province = 1
				}
				save_event_target_as = racial_pop_province_origin
			}
		}
		hidden_effect = {	#Which country to migrate to
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					any_owned_province = {
						development = 20
					}
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					medium_tolerance_elven_race_trigger = yes
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					medium_tolerance_elven_race_trigger = yes
					any_owned_province = {
						development = 20
					}
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					high_tolerance_elven_race_trigger = yes
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					OR = {
						medium_tolerance_elven_race_trigger = yes
						high_tolerance_elven_race_trigger = yes
					}
					any_owned_province = {
						development = 20
						NOT = { has_elven_minority_trigger = yes }
						NOT = { has_elven_majority_trigger = yes }
					}
				}
				save_event_target_as = racial_pop_migration_country
			}
		}
	}
	option = {			#Expel!
		name = racial_pop_events_elven.17.a
		trigger = {has_country_modifier = racial_pop_elven_expulsion}
		ai_chance = {factor = 50}
		event_target:racial_pop_province_origin = {	#Remove Minority from Origin Province
			remove_elven_minority_size_effect = yes
			add_devastation = 10
		}
		if = {	#only does this if they have an adjacent country
			limit = {
				any_neighbor_country = { 
					NOT = { low_tolerance_elven_race_trigger = yes }
				}
			}
			event_target:racial_pop_migration_country  = {	#Calls Migrants Arrive to Migration Country
				country_event = {
					id = racial_pop_events_elven.10
				}
			}
		}
		medium_decrease_of_elven_tolerance_effect = yes
	}
	option = {			#Purge!
		name = racial_pop_events_elven.19.a
		ai_chance = {factor = 50}
		trigger = {has_country_modifier = racial_pop_elven_purge}
		if = {
			limit = { 
				ruler_has_personality = cruel_personality 
				event_target:racial_pop_province_origin = {
					has_large_elven_minority_trigger = yes
				}
			}
			event_target:racial_pop_province_origin = {	#Remove Minority from Origin Province
				remove_elven_minority_size_effect = yes
				remove_elven_minority_size_effect = yes
				add_devastation = 20
			}
			large_decrease_of_elven_tolerance_effect = yes
		}
		else = {
			event_target:racial_pop_province_origin = {	#Remove Minority from Origin Province
				remove_elven_minority_size_effect = yes
				add_devastation = 20
			}
			large_decrease_of_elven_tolerance_effect = yes
		}
	}
}

country_event = {	#Expulsion/Purge - Majority
	id = racial_pop_events_elven.18
	title = racial_pop_events_elven.18.t
	picture = REFUGEES_ESCAPING_eventPicture
	goto = province_event_target
	
	desc = {
		trigger = { has_country_modifier = racial_pop_elven_expulsion }
		desc = racial_pop_events_elven.18.d
	}
	desc = {
		trigger = { has_country_modifier = racial_pop_elven_purge }
		desc = racial_pop_events_elven.18.dpurge
	}
	trigger = {
		any_owned_province = {
			is_city = yes
			culture_is_elven = yes
			NOT = {has_construction = culture}
		}
		OR = {
			has_country_modifier = racial_pop_elven_expulsion
			has_country_modifier = racial_pop_elven_purge
		}
	}
	
	mean_time_to_happen = {
		months = 120
		modifier = {factor = 0.90 has_country_modifier = monstrous_nation }
		modifier = {factor = 0.50 has_country_modifier = racial_focus_elven}
		modifier = {factor = 0.75 has_country_modifier = racial_pop_elven_purge}
		modifier = {factor = 0.75 has_idea = supremacy_inquisition}
		modifier = {factor = 0.75 has_government_attribute = faster_purguing_reform}
		modifier = {factor = 0.75 has_government_attribute = expulsion_purge_give_cash_and_power}
		modifier = {factor = 0.90 any_owned_province = { units_in_province = owner is_city = yes NOT = {has_construction = culture} culture_is_elven = yes}}
	}
	
	immediate = {
		hidden_effect = {	#Which country to migrate to
			save_event_target_as = owner_target
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					any_owned_province = {
						development = 20
					}
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					medium_tolerance_elven_race_trigger = yes
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					medium_tolerance_elven_race_trigger = yes
					any_owned_province = {
						development = 20
					}
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					high_tolerance_elven_race_trigger = yes
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_neighbor_country = {
				limit = {
					NOT = { has_country_modifier = racial_pop_elven_purge }
					NOT = { has_country_modifier = racial_pop_elven_expulsion }
					OR = {
						medium_tolerance_elven_race_trigger = yes
						high_tolerance_elven_race_trigger = yes
					}
					any_owned_province = {
						development = 20
						NOT = { has_elven_minority_trigger = yes }
						NOT = { has_elven_majority_trigger = yes }
					}
				}
				save_event_target_as = racial_pop_migration_country
			}
			random_owned_province = {
				limit = {
					is_city = yes
					culture_is_elven = yes
					NOT = {has_construction = culture}
				}
				save_event_target_as = province_event_target
			}
		}
	}
	option = {			#Expel!
		name = racial_pop_events_elven.18.a
		ai_chance = {factor = 50}
		trigger = {has_country_modifier = racial_pop_elven_expulsion}
		
		if = {
			limit = {
				num_of_owned_provinces_with = {
					value = 10
					is_city = yes
					culture_is_elven = yes
				}
			}
			event_target:province_event_target = {
				area = {
					limit = {
						is_city = yes
						culture_is_elven = yes
						NOT = {has_construction = culture}
					}
					change_culture = owner
					change_religion = owner
					add_devastation = 30
					bertus_dev_reduction = {value = 0.5}
					add_permanent_province_modifier = { name = expulsion_unrest_modifier duration = 1825 }
				}
			}
		}
		else = {
			event_target:province_event_target = {
				change_culture = owner
				change_religion = owner
				add_devastation = 30
				bertus_dev_reduction = {value = 0.5}
				add_permanent_province_modifier = { name = expulsion_unrest_modifier duration = 1825 }
			}
		}
		if = {	#only does this if they have an adjacent country
			limit = {
				any_neighbor_country = { 
					NOT = { low_tolerance_elven_race_trigger = yes }
				}
			}
			event_target:racial_pop_migration_country  = {	#Calls Migrants Arrive to Migration Country
				country_event = {
					id = racial_pop_events_elven.10
				}
			}
		}
		medium_decrease_of_elven_tolerance_effect = yes
	}
	option = {		#Purge!	
		name = racial_pop_events_elven.20.a
		ai_chance = {factor = 50}
		trigger = {has_country_modifier = racial_pop_elven_purge}
		
		if = {
			limit = {
				num_of_owned_provinces_with = {
					value = 10
					is_city = yes
					culture_is_elven = yes
				}
			}
			event_target:province_event_target = {
				area = {
					limit = {
						is_city = yes
						culture_is_elven = yes
						NOT = {has_construction = culture}
					}
					add_devastation = 50
					change_culture = owner
					change_religion = owner
					bertus_dev_reduction = {value = 0.5}
					add_permanent_province_modifier = { name = purge_unrest_modifier duration = 1825 }
					hidden_effect = {
						remove_province_modifier = elven_majority_oppressed
						remove_province_modifier = elven_majority_coexisting
						remove_province_modifier = elven_majority_integrated
					}
				}
			}
		}
		else = {
			event_target:province_event_target = {
				add_devastation = 50
				change_culture = owner
				change_religion = owner
				bertus_dev_reduction = {value = 0.5}
				add_permanent_province_modifier = { name = purge_unrest_modifier duration = 1825 }
				hidden_effect = {
					remove_province_modifier = elven_majority_oppressed
					remove_province_modifier = elven_majority_coexisting
					remove_province_modifier = elven_majority_integrated
				}
			}
		}
		large_decrease_of_elven_tolerance_effect = yes
	}
}

province_event = {	#enslavement
    id = elven_tolerance_events.5007
    title = elven_tolerance_events.5007.title
    desc = elven_tolerance_events.5007.desc
	picture = DIPLOMACY_eventPicture

	hidden = yes
	is_triggered_only = yes

    trigger = {
		controller = {
			ai = no
			has_government_mechanic = enslavement_mechanic
			low_tolerance_elven_race_trigger = yes
		}
		has_elven_majority_trigger = yes
		is_city = yes
		NOT = { controlled_by = owner }
		NOT = {has_province_modifier = already_enslaved_modifier}
	}

	immediate = {}
    option = {
        name = elven_tolerance_events.5007.a #
		ai_chance = {
			factor = 10
		}
		get_slaves = yes
    }
	after = {
		add_province_modifier = {
			name = already_enslaved_modifier
			duration = 1825
			hidden = yes
		}
	}
}