namespace = bertus_pops

province_event = {	#pop updater
	id = bertus_pops.1038
	title = bertus_pops.1038.t
	desc = bertus_pops.1038.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1038.a
		update_bertus_pops = yes
	}
}
province_event = {	#climate & terrain preferences updater
	id = bertus_pops.1039
	title = bertus_pops.1039.t
	desc = bertus_pops.1039.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1039.a
		climate_and_terrain_preferences = yes
	}
}
province_event = {	#development based modifiers
	id = bertus_pops.1040
	title = bertus_pops.1040.t
	desc = bertus_pops.1040.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1040.a
		on_development_scaled_modifiers_effect = yes
	}
}
province_event = {	#base tax based modifiers
	id = bertus_pops.1041
	title = bertus_pops.1041.t
	desc = bertus_pops.1041.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1041.a
		on_adm_development_modifiers_effect = yes
	}
}
province_event = {	#racial base production modifiers
	id = bertus_pops.1042
	title = bertus_pops.1042.t
	desc = bertus_pops.1042.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1042.a
		on_dip_development_racial_modifiers_effect = yes
	}
}
province_event = {	#base manpower based modifiers
	id = bertus_pops.1043
	title = bertus_pops.1043.t
	desc = bertus_pops.1043.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1043.a
		on_mil_development_modifiers_effect = yes
	}
}
province_event = {	#super boost pop goods produced
	id = bertus_pops.1044
	title = bertus_pops.1044.t
	desc = bertus_pops.1044.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1044.a
		remove_super_boost_goods_produced = yes
		add_super_boost_goods_produced = yes
	}
}
province_event = {	#boost pop goods produced
	id = bertus_pops.1045
	title = bertus_pops.1045.t
	desc = bertus_pops.1045.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1045.a
		remove_boost_pop_goods_produced = yes
		add_boost_pop_goods_produced = yes
	}
}
province_event = {	#bulwar canals pop goods produced
	id = bertus_pops.1046
	title = bertus_pops.1046.t
	desc = bertus_pops.1046.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	trigger = {
		
	}
	
	option = {
		name = bertus_pops.1046.a
		add_pop_modifier = {race = all class = bulwar_canals_boost amount = 25percent resource = goods_produced onbase = base_production}
	}
}
province_event = {	#great dam pop goods produced
	id = bertus_pops.1047
	title = bertus_pops.1047.t
	desc = bertus_pops.1047.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes

	option = {
		name = bertus_pops.1047.a
		add_pop_modifier = {race = all class = great_dam_boost amount = 25percent resource = goods_produced onbase = base_production}
	}
}
province_event = {	#on dev reduction conditional modifiers
	id = bertus_pops.1048
	title = bertus_pops.1048.t
	desc = bertus_pops.1048.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_province_modifier = centralized_provinces_modifier
			has_province_modifier = centralized_province
			has_province_modifier = zentra_dev
		}
	}

	option = {
		name = bertus_pops.1048.a
		on_development_reduction_modifiers_effect = yes
	}
}
province_event = {	#base production modifiers
	id = bertus_pops.1049
	title = bertus_pops.1049.t
	desc = bertus_pops.1049.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = bertus_pops.1049.a
		on_dip_development_modifiers_effect = yes
	}
}
province_event = {	#on dev increase modifiers
	id = bertus_pops.1050
	title = bertus_pops.1050.t
	desc = bertus_pops.1050.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				owner = {has_idea = entwicklung1}
				development = 25
				NOT = { has_province_modifier = zentra_dev }
			}
			AND = {
				owner = {has_idea = zentra3}
				development = 40
				NOT = { has_province_modifier = centralized_province }
			}
			AND = {
				owner = {has_government_attribute = boost_30_dev_provinces}
				development = 30
				NOT = {has_province_modifier = centralized_provinces_modifier}
			}
		}
	}
	option = {
		name = bertus_pops.1050.a
		on_development_modifiers_effect = yes
	}
}
country_event = {	#on get development ideas
	id = bertus_pops.1051
	title = bertus_pops.1051.t
	desc = bertus_pops.1051.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	
	trigger = {
		has_idea = entwicklung1
		NOT = {has_country_flag = entwicklung1_flag}
	}
	option = {
		name = bertus_pops.1051.a
		set_country_flag = entwicklung1_flag
		every_owned_province = {
			limit = {
				development = 25
				NOT = { has_province_modifier = zentra_dev }
			}
			add_province_modifier = {name = zentra_dev duration = -1}
		}
	}
}
country_event = {	#on get centralization ideas
	id = bertus_pops.1052
	title = bertus_pops.1052.t
	desc = bertus_pops.1052.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	
	trigger = {
		has_idea = zentra3
		NOT = {has_country_flag = zentra3_flag}
	}
	option = {
		name = bertus_pops.1052.a
		set_country_flag = zentra3_flag
		every_owned_province = {
			limit = {
				development = 40
				NOT = { has_province_modifier = centralized_province }
			}
			add_province_modifier = {name = centralized_province duration = -1}
		}
	}
}
country_event = {	#on get fleet base 1 ideas
	id = bertus_pops.1053
	title = bertus_pops.1053.t
	desc = bertus_pops.1053.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	
	trigger = {
		has_idea = flottenbasis1
		NOT = {has_country_flag = flottenbasis1_flag}
	}
	option = {
		name = bertus_pops.1053.a
		set_country_flag = flottenbasis1_flag
		every_owned_province = {
			limit = {
				OR = {
					has_building = dock
					has_building = drydock
					has_building = navymanpower_lvl_3
				}
			}
			trigger_switch = {
				on_trigger = has_building
				navymanpower_lvl_3 = {add_province_modifier = {name = flottenbasis1_dock_bonus_3 duration = -1 hidden = yes}}
				drydock = {add_province_modifier = {name = flottenbasis1_dock_bonus_2 duration = -1 hidden = yes}}
				dock = {add_province_modifier = {name = flottenbasis1_dock_bonus_1 duration = -1 hidden = yes}}
			}
		}
	}
}
country_event = {	#on get fleet base 2 ideas
	id = bertus_pops.1054
	title = bertus_pops.1054.t
	desc = bertus_pops.1054.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	
	trigger = {
		has_idea = flottenbasis4
		NOT = {has_country_flag = flottenbasis4_flag}
	}
	option = {
		name = bertus_pops.1054.a
		set_country_flag = flottenbasis4_flag
		every_owned_province = {
			limit = {
				OR = {
					has_building = shipyard
					has_building = grand_shipyard
					has_building = navyforcelimit_lvl_3
				}
			}
			trigger_switch = {
				on_trigger = has_building
				navymanpower_lvl_3 = {add_province_modifier = {name = flottenbasis4_dock_bonus_3 duration = -1 hidden = yes}}
				drydock = {add_province_modifier = {name = flottenbasis4_dock_bonus_2 duration = -1 hidden = yes}}
				dock = {add_province_modifier = {name = flottenbasis4_dock_bonus_1 duration = -1 hidden = yes}}
			}
		}
	}
}
province_event = {	#orc+human into half-orc
	id = bertus_pops.2000
	title = bertus_pops.2000.t
	desc = bertus_pops.2000.desc
	picture = DIPLOMACY_eventPicture
	
	
    trigger = {
		is_city = yes
		owner = {			
			high_tolerance_human_race_trigger = yes 
			high_tolerance_orcish_race_trigger = yes 
			OR = {
				medium_tolerance_half_orcish_race_trigger = yes 
				high_tolerance_half_orcish_race_trigger = yes 
			}
		}
		OR = {
			AND = {
				has_orcish_majority_trigger = yes
				OR = {
					has_coexisting_human_minority_trigger = yes
					has_integrated_human_minority_trigger = yes
				}
			}
			AND = {
				has_human_majority_trigger = yes
				OR = {
					has_coexisting_orcish_minority_trigger = yes
					has_integrated_orcish_minority_trigger = yes
				}
			}
		}
    }
	
	mean_time_to_happen = {		
		months = 1200
		
		modifier = {factor = 0.9 owner = {stability = 1}}
		modifier = {factor = 0.75 owner = {is_part_of_hre = yes has_global_flag = xenophile_weddings_hre_flag}}
		modifier = { factor = 0.5 owner = {has_estate_privilege = estate_half_orcish_promoted_inter_racial_marriages}}
		modifier = { 
			factor = 5.0
			owner = {
				OR = {
					has_estate_privilege = estate_human_banned_inter_racial_marriages
					has_estate_privilege = estate_orcish_banned_inter_racial_marriages
				}
			}
		}
		modifier = {factor = 0.9 owner = {stability = 2}}
		modifier = {factor = 0.9 is_prosperous = yes}
		modifier = {factor = 0.5 owner = {has_country_flag = half_orc_grombar}}
	}

	option = {
		name = bertus_pops.2000.a
		if = {
			limit = {
				OR = {
					has_province_modifier = half_orcish_minority_coexisting_small 
					has_province_modifier = half_orcish_minority_integrated_small 
					NOT = {
						has_province_modifier = half_orcish_minority_coexisting_small 
						has_province_modifier = half_orcish_minority_integrated_small 
						has_province_modifier = half_orcish_minority_coexisting_large
						has_province_modifier = half_orcish_minority_integrated_large
					}
				}
			}
			add_half_orcish_minority_size_effect = yes
		}
		else_if	= {
			limit = {continent = asia}		
			change_culture = wuhyun_half_orc
		}
		else_if = {
			limit = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
			change_culture = chippengarder_half_orc
		}
		else_if = {
			limit = {owner = {has_country_flag = half_orc_grombar}}		
			change_culture = grombar_half_orc
		}
		else = {
			change_culture = cannor_half_orc
		}
		if = {
			limit = {
				owner = {
					is_part_of_hre = yes
					has_global_flag = xenophile_weddings_hre_flag
				}
			}
			add_1_dev_to_provinces = yes
			add_1_dev_to_provinces = yes
			add_1_dev_to_provinces = yes
		}
		hidden_effect = {province_event = {id = bertus_pops.1038}}	#update bertus pops
	}
}
province_event = {	#elfs+humans  into half-elf
	id = bertus_pops.2001
	title = bertus_pops.2001.t
	desc = bertus_pops.2001.desc
	picture = DIPLOMACY_eventPicture
	
    trigger = {
		is_city = yes
		owner = {
			high_tolerance_elven_race_trigger = yes 
			high_tolerance_human_race_trigger = yes 
			OR = {
				medium_tolerance_half_elven_race_trigger = yes 
				high_tolerance_half_elven_race_trigger = yes 
			}
		}
		OR = {
			AND = {
				has_human_majority_trigger = yes
				OR = {
					has_coexisting_elven_minority_trigger = yes
					has_integrated_elven_minority_trigger = yes
				}
			}
			AND = {
				has_elven_majority_trigger = yes
				OR = {
					has_coexisting_human_minority_trigger = yes
					has_integrated_human_minority_trigger = yes
				}
			}
		}
    }
	
	mean_time_to_happen = {		
		months = 1200
		modifier = {
			factor = 0.75
			owner = {
				is_part_of_hre = yes
				has_global_flag = xenophile_weddings_hre_flag
			}
		}
		modifier = {factor = 0.5 owner = {has_estate_privilege = estate_half_elven_promoted_inter_racial_marriages}}
		modifier = {
			factor = 5.0
			owner = {
				OR = {
					has_estate_privilege = estate_human_banned_inter_racial_marriages
					has_estate_privilege = estate_elven_banned_inter_racial_marriages
				}
			}
		}
		modifier = {factor = 0.9 owner = {stability = 1}}
		modifier = {factor = 0.9 owner = {stability = 2}}
		modifier = {factor = 0.9 is_prosperous = yes}
		modifier = {factor = 2.0 is_capital = yes}
	}

	option = {
		name = bertus_pops.2001.a
		if = {
			limit = {
				OR = {
					has_province_modifier = half_elven_minority_coexisting_small 
					has_province_modifier = half_elven_minority_integrated_small 
					NOT = {
						has_province_modifier = half_elven_minority_coexisting_small 
						has_province_modifier = half_elven_minority_integrated_small 
						has_province_modifier = half_elven_minority_coexisting_large
						has_province_modifier = half_elven_minority_integrated_large
					}
				}
			}
			add_half_elven_minority_size_effect = yes
		}
		else = {
			change_culture = cannor_half_elf
		}
		if = {
			limit = {			
				owner = {
					is_part_of_hre = yes
					has_global_flag = xenophile_weddings_hre_flag
				}
			}
			add_1_dev_to_provinces = yes
			add_1_dev_to_provinces = yes
			add_1_dev_to_provinces = yes
		}
		hidden_effect = {province_event = {id = bertus_pops.1038}}	#update bertus pops
	}
}
country_event = {	#non principal military pop
	id = bertus_pops.2002
	title = bertus_pops.2002.t
	desc = bertus_pops.2002.desc
	picture = DIPLOMACY_eventPicture
	
	hidden = yes
	
    trigger = {
		any_owned_province = {
			is_city = yes
			OR = {
				AND = {
					has_military_pop = yes
					has_province_modifier = non_military_pop
				}
				AND = {
					NOT = {has_military_pop = yes}
					NOT = {has_province_modifier = non_military_pop}
				}
			}
		}
    }
	
	mean_time_to_happen = {
		days = 365
		modifier = {factor = 5.0 is_at_war = yes}
		modifier = {factor = 2.0 manpower_percentage = 0.90}
	}
	
	option = {
		name = bertus_pops.2002.a
		random_owned_province = {
			limit = {
				is_city = yes
				OR = {
					AND = {
						has_military_pop = yes
						has_province_modifier = non_military_pop
					}
					AND = {
						NOT = {has_military_pop = yes}
						NOT = {has_province_modifier = non_military_pop}
					}
				}
			}
			area = {
				limit = {
					is_city = yes
				}
				update_military_pop = yes
			}
		}
	}
	after = {
		country_event = {id = bertus_racial_military.1001 days = 1}
	}
}